import{S as Se,i as Pe,s as Ae,E as Q,y as C,z as O,A as V,X as ut,Y as ft,g as A,d as T,B as y,N as fe,G as dt,J as pt,K as _t,L as ht,e as Bt,b as de,v as Ht,f as jt,h as i,Q as Ft,k as u,q as B,a as S,l as f,m as _,r as U,c as P,n as v,H as r,I as j,u as mt,$ as ee,W as qt,U as Gt,aj as Ut,af as Dt,P as Ct,w as Jt,an as Kt,ao as Qt,a8 as Wt,ai as Yt}from"../chunks/index.6e58b9bb.js";import{I as Zt}from"../chunks/IconServer.773a698f.js";import{I as xt,g as el}from"../chunks/navigation.451659a4.js";import{I as gt}from"../chunks/Icon.93dbfe36.js";import{I as tl}from"../chunks/IconTrashX.d818d77f.js";import{a as Ot}from"../chunks/technologicStores.3ea6c695.js";import{p as ll}from"../chunks/stores.238eac94.js";import{t as nl}from"../chunks/stores.0f2f131c.js";import{e as al}from"../chunks/dialogs.cd7ae541.js";import{I as sl}from"../chunks/IconEdit.b5252654.js";function ol(o){let e;const t=o[2].default,a=dt(t,o,o[3],null);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,l){a&&a.m(n,l),e=!0},p(n,l){a&&a.p&&(!e||l&8)&&pt(a,t,n,n[3],e?ht(t,n[3],l,null):_t(n[3]),null)},i(n){e||(A(a,n),e=!0)},o(n){T(a,n),e=!1},d(n){a&&a.d(n)}}}function rl(o){let e,t;const a=[{name:"circle-letter-x"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[ol]},$$scope:{ctx:o}};for(let l=0;l<a.length;l+=1)n=Q(n,a[l]);return e=new gt({props:n}),{c(){C(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,s){V(e,l,s),t=!0},p(l,[s]){const h=s&3?ut(a,[a[0],s&2&&ft(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(h.$$scope={dirty:s,ctx:l}),e.$set(h)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){y(e,l)}}}function cl(o,e,t){let{$$slots:a={},$$scope:n}=e;const l=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}],["path",{d:"M10 8l4 8"}],["path",{d:"M10 16l4 -8"}]];return o.$$set=s=>{t(1,e=Q(Q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[l,e,a,n]}class il extends Se{constructor(e){super(),Pe(this,e,cl,rl,Ae,{})}}const ul=il;function fl(o){let e;const t=o[2].default,a=dt(t,o,o[3],null);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,l){a&&a.m(n,l),e=!0},p(n,l){a&&a.p&&(!e||l&8)&&pt(a,t,n,n[3],e?ht(t,n[3],l,null):_t(n[3]),null)},i(n){e||(A(a,n),e=!0)},o(n){T(a,n),e=!1},d(n){a&&a.d(n)}}}function dl(o){let e,t;const a=[{name:"circle-plus"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[fl]},$$scope:{ctx:o}};for(let l=0;l<a.length;l+=1)n=Q(n,a[l]);return e=new gt({props:n}),{c(){C(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,s){V(e,l,s),t=!0},p(l,[s]){const h=s&3?ut(a,[a[0],s&2&&ft(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(h.$$scope={dirty:s,ctx:l}),e.$set(h)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){y(e,l)}}}function pl(o,e,t){let{$$slots:a={},$$scope:n}=e;const l=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}],["path",{d:"M9 12h6"}],["path",{d:"M12 9v6"}]];return o.$$set=s=>{t(1,e=Q(Q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[l,e,a,n]}class _l extends Se{constructor(e){super(),Pe(this,e,pl,dl,Ae,{})}}const hl=_l;function ml(o){let e;const t=o[2].default,a=dt(t,o,o[3],null);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,l){a&&a.m(n,l),e=!0},p(n,l){a&&a.p&&(!e||l&8)&&pt(a,t,n,n[3],e?ht(t,n[3],l,null):_t(n[3]),null)},i(n){e||(A(a,n),e=!0)},o(n){T(a,n),e=!1},d(n){a&&a.d(n)}}}function gl(o){let e,t;const a=[{name:"check"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[ml]},$$scope:{ctx:o}};for(let l=0;l<a.length;l+=1)n=Q(n,a[l]);return e=new gt({props:n}),{c(){C(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,s){V(e,l,s),t=!0},p(l,[s]){const h=s&3?ut(a,[a[0],s&2&&ft(l[1]),s&1&&{iconNode:l[0]}]):{};s&8&&(h.$$scope={dirty:s,ctx:l}),e.$set(h)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){y(e,l)}}}function vl(o,e,t){let{$$slots:a={},$$scope:n}=e;const l=[["path",{d:"M5 12l5 5l10 -10"}]];return o.$$set=s=>{t(1,e=Q(Q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[l,e,a,n]}class bl extends Se{constructor(e){super(),Pe(this,e,vl,gl,Ae,{})}}const El=bl;function kl(o){let e,t,a,n,l,s,h,p,m,b;return h=new sl({props:{size:"16"}}),{c(){e=u("div"),t=u("div"),a=B(o[0]),n=S(),l=u("button"),s=u("span"),C(h.$$.fragment),this.h()},l(g){e=f(g,"DIV",{class:!0});var I=_(e);t=f(I,"DIV",{class:!0});var E=_(t);a=U(E,o[0]),E.forEach(i),n=P(I),l=f(I,"BUTTON",{class:!0});var M=_(l);s=f(M,"SPAN",{});var w=_(s);O(h.$$.fragment,w),w.forEach(i),M.forEach(i),I.forEach(i),this.h()},h(){v(t,"class","flex-grow"),v(l,"class","btn-icon w-8 p-0 variant-soft"),v(e,"class","flex gap-2 items-center w-full bg-primary-hover-token p-1")},m(g,I){de(g,e,I),r(e,t),r(t,a),r(e,n),r(e,l),r(l,s),V(h,s,null),p=!0,m||(b=j(l,"click",o[6]),m=!0)},p(g,I){(!p||I&1)&&mt(a,g[0])},i(g){p||(A(h.$$.fragment,g),p=!0)},o(g){T(h.$$.fragment,g),p=!1},d(g){g&&i(e),y(h),m=!1,b()}}}function $l(o){let e,t,a,n,l,s,h,p;return l=new El({}),{c(){e=u("div"),t=u("input"),a=S(),n=u("button"),C(l.$$.fragment),this.h()},l(m){e=f(m,"DIV",{class:!0});var b=_(e);t=f(b,"INPUT",{class:!0,type:!0}),a=P(b),n=f(b,"BUTTON",{class:!0});var g=_(n);O(l.$$.fragment,g),g.forEach(i),b.forEach(i),this.h()},h(){v(t,"class","p-1"),v(t,"type","text"),v(n,"class","variant-filled-primary"),v(e,"class","input-group input-group-divider grid-cols-[1fr_auto]")},m(m,b){de(m,e,b),r(e,t),ee(t,o[0]),r(e,a),r(e,n),V(l,n,null),s=!0,h||(p=[j(t,"input",o[4]),j(n,"click",o[5])],h=!0)},p(m,b){b&1&&t.value!==m[0]&&ee(t,m[0])},i(m){s||(A(l.$$.fragment,m),s=!0)},o(m){T(l.$$.fragment,m),s=!1},d(m){m&&i(e),y(l),h=!1,qt(p)}}}function Nl(o){let e,t,a,n;const l=[$l,kl],s=[];function h(p,m){return p[1]?0:1}return e=h(o),t=s[e]=l[e](o),{c(){t.c(),a=Bt()},l(p){t.l(p),a=Bt()},m(p,m){s[e].m(p,m),de(p,a,m),n=!0},p(p,[m]){let b=e;e=h(p),e===b?s[e].p(p,m):(Ht(),T(s[b],1,1,()=>{s[b]=null}),jt(),t=s[e],t?t.p(p,m):(t=s[e]=l[e](p),t.c()),A(t,1),t.m(a.parentNode,a))},i(p){n||(A(t),n=!0)},o(p){T(t),n=!1},d(p){s[e].d(p),p&&i(a)}}}function Il(o,e,t){const a=Ft();let{value:n}=e,{initialEditing:l=!1}=e,s=l;function h(){n=this.value,t(0,n)}const p=()=>{t(1,s=!1),a("change",n)},m=()=>t(1,s=!0);return o.$$set=b=>{"value"in b&&t(0,n=b.value),"initialEditing"in b&&t(3,l=b.initialEditing)},[n,s,a,l,h,p,m]}class Sl extends Se{constructor(e){super(),Pe(this,e,Il,Nl,Ae,{value:0,initialEditing:3})}}function Vt(o,e,t){const a=o.slice();return a[13]=e[t],a[14]=e,a[15]=t,a}function yt(o,e,t){const a=o.slice();return a[13]=e[t],a}function zt(o){let e,t=o[13]+"",a,n;return{c(){e=u("option"),a=B(t),this.h()},l(l){e=f(l,"OPTION",{});var s=_(e);a=U(s,t),s.forEach(i),this.h()},h(){e.__value=n=o[13],e.value=e.__value},m(l,s){de(l,e,s),r(e,a)},p(l,s){s&1&&t!==(t=l[13]+"")&&mt(a,t),s&1&&n!==(n=l[13])&&(e.__value=n,e.value=e.__value)},d(l){l&&i(e)}}}function Xt(o){let e,t,a,n,l,s,h,p,m;function b(E){o[11](E,o[13],o[14],o[15])}let g={initialEditing:o[13]===""};o[13]!==void 0&&(g.value=o[13]),t=new Sl({props:g}),Jt.push(()=>Kt(t,"value",b)),s=new tl({props:{size:"16"}});function I(){return o[12](o[13])}return{c(){e=u("li"),C(t.$$.fragment),n=S(),l=u("button"),C(s.$$.fragment),this.h()},l(E){e=f(E,"LI",{class:!0});var M=_(e);O(t.$$.fragment,M),n=P(M),l=f(M,"BUTTON",{class:!0});var w=_(l);O(s.$$.fragment,w),w.forEach(i),M.forEach(i),this.h()},h(){v(l,"class","btn-icon w-8 p-0 variant-soft-error"),v(e,"class","flex")},m(E,M){de(E,e,M),V(t,e,null),r(e,n),r(e,l),V(s,l,null),h=!0,p||(m=j(l,"click",I),p=!0)},p(E,M){o=E;const w={};M&1&&(w.initialEditing=o[13]===""),!a&&M&1&&(a=!0,w.value=o[13],Qt(()=>a=!1)),t.$set(w)},i(E){h||(A(t.$$.fragment,E),A(s.$$.fragment,E),h=!0)},o(E){T(t.$$.fragment,E),T(s.$$.fragment,E),h=!1},d(E){E&&i(e),y(t),y(s),p=!1,m()}}}function Pl(o){let e,t,a,n,l,s,h,p=o[1].name+"",m,b,g,I,E,M,w,k,ie,z,te,Xe,He,X,je,W,pe,qe,Re,q,Fe,Y,_e,Ge,Je,D,R,Ke,Qe,le,he,We,Ye,F,Me,me,G,ge,ne,Ze,ve,xe,et,Z,be,tt,ae,J,Ee,se,lt,ke,nt,at,K,$e,oe,st,Ne,ot,Ie,rt,vt;n=new Zt({});let ue=o[0].models,L=[];for(let c=0;c<ue.length;c+=1)L[c]=zt(yt(o,ue,c));let re=o[0].models,N=[];for(let c=0;c<re.length;c+=1)N[c]=Xt(Vt(o,re,c));const Rt=c=>T(N[c],1,1,()=>{N[c]=null});return ne=new hl({props:{size:"16"}}),se=new xt({}),oe=new ul({}),{c(){e=u("section"),t=u("h3"),a=u("span"),C(n.$$.fragment),l=S(),s=u("span"),h=B("Backend: "),m=B(p),b=S(),g=u("div"),I=u("label"),E=u("span"),M=B("Name"),w=S(),k=u("input"),ie=S(),z=u("label"),te=u("span"),Xe=B("Base URL"),He=S(),X=u("input"),je=S(),W=u("label"),pe=u("span"),qe=B("Token"),Re=S(),q=u("input"),Fe=S(),Y=u("label"),_e=u("span"),Ge=B("Default Model"),Je=S(),D=u("select"),R=u("option"),Ke=B("Select a model");for(let c=0;c<L.length;c+=1)L[c].c();Qe=S(),le=u("div"),he=u("h4"),We=B("Models"),Ye=S(),F=u("ul");for(let c=0;c<N.length;c+=1)N[c].c();Me=S(),me=u("li"),G=u("button"),ge=u("span"),C(ne.$$.fragment),Ze=S(),ve=u("span"),xe=B("Add Model"),et=S(),Z=u("div"),be=u("div"),tt=S(),ae=u("div"),J=u("button"),Ee=u("span"),C(se.$$.fragment),lt=S(),ke=u("span"),nt=B("Save"),at=S(),K=u("a"),$e=u("span"),C(oe.$$.fragment),st=S(),Ne=u("span"),ot=B("Cancel"),this.h()},l(c){e=f(c,"SECTION",{class:!0});var $=_(e);t=f($,"H3",{class:!0});var d=_(t);a=f(d,"SPAN",{});var x=_(a);O(n.$$.fragment,x),x.forEach(i),l=P(d),s=f(d,"SPAN",{});var ct=_(s);h=U(ct,"Backend: "),m=U(ct,p),ct.forEach(i),d.forEach(i),b=P($),g=f($,"DIV",{class:!0});var H=_(g);I=f(H,"LABEL",{class:!0});var Te=_(I);E=f(Te,"SPAN",{});var bt=_(E);M=U(bt,"Name"),bt.forEach(i),w=P(Te),k=f(Te,"INPUT",{class:!0,type:!0}),Te.forEach(i),ie=P(H),z=f(H,"LABEL",{class:!0});var Le=_(z);te=f(Le,"SPAN",{});var Et=_(te);Xe=U(Et,"Base URL"),Et.forEach(i),He=P(Le),X=f(Le,"INPUT",{class:!0,type:!0,placeholder:!0}),Le.forEach(i),je=P(H),W=f(H,"LABEL",{class:!0});var we=_(W);pe=f(we,"SPAN",{});var kt=_(pe);qe=U(kt,"Token"),kt.forEach(i),Re=P(we),q=f(we,"INPUT",{class:!0,type:!0}),we.forEach(i),Fe=P(H),Y=f(H,"LABEL",{class:!0});var Be=_(Y);_e=f(Be,"SPAN",{});var $t=_(_e);Ge=U($t,"Default Model"),$t.forEach(i),Je=P(Be),D=f(Be,"SELECT",{class:!0});var it=_(D);R=f(it,"OPTION",{});var Nt=_(R);Ke=U(Nt,"Select a model"),Nt.forEach(i);for(let ce=0;ce<L.length;ce+=1)L[ce].l(it);it.forEach(i),Be.forEach(i),Qe=P(H),le=f(H,"DIV",{});var Ue=_(le);he=f(Ue,"H4",{});var It=_(he);We=U(It,"Models"),It.forEach(i),Ye=P(Ue),F=f(Ue,"UL",{class:!0});var De=_(F);for(let ce=0;ce<N.length;ce+=1)N[ce].l(De);Me=P(De),me=f(De,"LI",{});var St=_(me);G=f(St,"BUTTON",{class:!0});var Ce=_(G);ge=f(Ce,"SPAN",{});var Pt=_(ge);O(ne.$$.fragment,Pt),Pt.forEach(i),Ze=P(Ce),ve=f(Ce,"SPAN",{});var At=_(ve);xe=U(At,"Add Model"),At.forEach(i),Ce.forEach(i),St.forEach(i),De.forEach(i),Ue.forEach(i),H.forEach(i),et=P($),Z=f($,"DIV",{class:!0});var Oe=_(Z);be=f(Oe,"DIV",{class:!0}),_(be).forEach(i),tt=P(Oe),ae=f(Oe,"DIV",{});var Ve=_(ae);J=f(Ve,"BUTTON",{class:!0});var ye=_(J);Ee=f(ye,"SPAN",{});var Mt=_(Ee);O(se.$$.fragment,Mt),Mt.forEach(i),lt=P(ye),ke=f(ye,"SPAN",{});var Tt=_(ke);nt=U(Tt,"Save"),Tt.forEach(i),ye.forEach(i),at=P(Ve),K=f(Ve,"A",{href:!0,class:!0});var ze=_(K);$e=f(ze,"SPAN",{});var Lt=_($e);O(oe.$$.fragment,Lt),Lt.forEach(i),st=P(ze),Ne=f(ze,"SPAN",{});var wt=_(Ne);ot=U(wt,"Cancel"),wt.forEach(i),ze.forEach(i),Ve.forEach(i),Oe.forEach(i),$.forEach(i),this.h()},h(){v(t,"class","card-header flex gap-2 items-center"),v(k,"class","input p-1"),v(k,"type","text"),v(I,"class","label"),v(X,"class","input p-1"),v(X,"type","text"),v(X,"placeholder","https://api.openai.com/v1"),v(z,"class","label"),v(q,"class","input p-1"),v(q,"type","password"),v(W,"class","label"),R.__value="",R.value=R.__value,R.disabled=!0,v(D,"class","select"),o[0].defaultModel===void 0&&Gt(()=>o[10].call(D)),v(Y,"class","label"),v(G,"class","btn variant-soft-surface"),v(F,"class","list"),v(g,"class","flex flex-col gap-2 p-5"),v(be,"class","flex-grow"),v(J,"class","btn variant-filled-primary"),v(K,"href","/technologic/settings/backends"),v(K,"class","btn variant-ringed-primary"),v(Z,"class","card-footer px-5 flex"),v(e,"class","card m-3 variant-glass")},m(c,$){de(c,e,$),r(e,t),r(t,a),V(n,a,null),r(t,l),r(t,s),r(s,h),r(s,m),r(e,b),r(e,g),r(g,I),r(I,E),r(E,M),r(I,w),r(I,k),ee(k,o[0].name),r(g,ie),r(g,z),r(z,te),r(te,Xe),r(z,He),r(z,X),ee(X,o[0].url),r(g,je),r(g,W),r(W,pe),r(pe,qe),r(W,Re),r(W,q),ee(q,o[0].token),r(g,Fe),r(g,Y),r(Y,_e),r(_e,Ge),r(Y,Je),r(Y,D),r(D,R),r(R,Ke);for(let d=0;d<L.length;d+=1)L[d]&&L[d].m(D,null);Ut(D,o[0].defaultModel,!0),r(g,Qe),r(g,le),r(le,he),r(he,We),r(le,Ye),r(le,F);for(let d=0;d<N.length;d+=1)N[d]&&N[d].m(F,null);r(F,Me),r(F,me),r(me,G),r(G,ge),V(ne,ge,null),r(G,Ze),r(G,ve),r(ve,xe),r(e,et),r(e,Z),r(Z,be),r(Z,tt),r(Z,ae),r(ae,J),r(J,Ee),V(se,Ee,null),r(J,lt),r(J,ke),r(ke,nt),r(ae,at),r(ae,K),r(K,$e),V(oe,$e,null),r(K,st),r(K,Ne),r(Ne,ot),Ie=!0,rt||(vt=[j(k,"input",o[7]),j(X,"input",o[8]),j(q,"input",o[9]),j(D,"change",o[10]),j(G,"click",o[4]),j(J,"click",o[2])],rt=!0)},p(c,[$]){if((!Ie||$&2)&&p!==(p=c[1].name+"")&&mt(m,p),$&1&&k.value!==c[0].name&&ee(k,c[0].name),$&1&&X.value!==c[0].url&&ee(X,c[0].url),$&1&&q.value!==c[0].token&&ee(q,c[0].token),$&1){ue=c[0].models;let d;for(d=0;d<ue.length;d+=1){const x=yt(c,ue,d);L[d]?L[d].p(x,$):(L[d]=zt(x),L[d].c(),L[d].m(D,null))}for(;d<L.length;d+=1)L[d].d(1);L.length=ue.length}if($&1&&Ut(D,c[0].defaultModel),$&9){re=c[0].models;let d;for(d=0;d<re.length;d+=1){const x=Vt(c,re,d);N[d]?(N[d].p(x,$),A(N[d],1)):(N[d]=Xt(x),N[d].c(),A(N[d],1),N[d].m(F,Me))}for(Ht(),d=re.length;d<N.length;d+=1)Rt(d);jt()}},i(c){if(!Ie){A(n.$$.fragment,c);for(let $=0;$<re.length;$+=1)A(N[$]);A(ne.$$.fragment,c),A(se.$$.fragment,c),A(oe.$$.fragment,c),Ie=!0}},o(c){T(n.$$.fragment,c),N=N.filter(Boolean);for(let $=0;$<N.length;$+=1)T(N[$]);T(ne.$$.fragment,c),T(se.$$.fragment,c),T(oe.$$.fragment,c),Ie=!1},d(c){c&&i(e),y(n),Dt(L,c),Dt(N,c),y(ne),y(se),y(oe),rt=!1,qt(vt)}}}function Al(o,e,t){let a,n,l;Ct(o,Ot,k=>t(5,n=k)),Ct(o,ll,k=>t(6,l=k));let s;async function h(){Wt(Ot,n={...n,backends:n.backends.map(k=>k.name===a.name?s:k)},n),await el("/technologic/settings/backends"),nl.trigger({message:`${s.name} backend changes saved`,background:"variant-filled-success"})}async function p(k){await al(`Are you sure you want to delete the model ${k}?`)&&(k===s.defaultModel&&t(0,s.defaultModel=s.models[0]||"",s),t(0,s.models=s.models.filter(ie=>ie!==k),s))}async function m(){t(0,s.models=[...s.models,""],s)}function b(){s.name=this.value,t(0,s),t(1,a),t(5,n),t(6,l)}function g(){s.url=this.value,t(0,s),t(1,a),t(5,n),t(6,l)}function I(){s.token=this.value,t(0,s),t(1,a),t(5,n),t(6,l)}function E(){s.defaultModel=Yt(this),t(0,s),t(1,a),t(5,n),t(6,l)}function M(k,ie,z,te){z[te]=k,t(0,s),t(1,a),t(5,n),t(6,l)}const w=k=>p(k);return o.$$.update=()=>{o.$$.dirty&96&&t(1,a=n.backends.find(k=>k.name===l.params.backendName)),o.$$.dirty&3&&(s||t(0,s={...a}))},[s,a,h,p,m,n,l,b,g,I,E,M,w]}class yl extends Se{constructor(e){super(),Pe(this,e,Al,Pl,Ae,{})}}export{yl as component};
