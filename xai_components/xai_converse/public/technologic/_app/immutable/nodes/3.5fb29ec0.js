import{S as Ne,i as Te,s as Se,k as v,a5 as qe,l as b,m as _,a7 as We,h as u,n as c,p as Ze,ae as Pe,b as ue,H as i,g as N,v as Ce,d as A,f as Le,M as zt,j as Jt,E as Z,N as fe,G as ye,J as De,K as Be,L as Ve,a as R,c as $,_ as _t,I as se,X as $e,W as Ge,ah as vt,Q as ot,O as Fe,e as Xe,R as Ue,P as tt,q as me,r as _e,T as Ut,u as je,F as Yt,a0 as Kt,a1 as Qt,y as J,z as Y,A as K,B as Q,Y as Oe,ai as Zt,U as xt,$ as lt,aj as bt,ak as rt,al as el,a6 as tl,am as ll,af as it,w as Ht,an as sl,ao as nl,ag as pt,t as al,a8 as rl}from"../chunks/index.6e58b9bb.js";import{_ as ol}from"../chunks/preload-helper.a4192956.js";import{s as il,H as cl,C as Ft,b as jt,S as fl,p as ul,M as dl,d as hl}from"../chunks/SvelteMarkdown.0c121af3.js";import{p as gl,e as st}from"../chunks/dialogs.cd7ae541.js";import{I as ze}from"../chunks/Icon.93dbfe36.js";import{I as ml,b as _l,a as vl,g as nt}from"../chunks/navigation.451659a4.js";import{I as bl}from"../chunks/IconEdit.b5252654.js";import{I as pl}from"../chunks/IconTrashX.d818d77f.js";import{c as Qe,a as kt,b as kl}from"../chunks/technologicStores.3ea6c695.js";import{p as El}from"../chunks/stores.238eac94.js";const Il=!0,wl=Il;function Ml(a,e){const l=()=>{a.dispatchEvent(new CustomEvent("copyComplete"))},t=()=>{if(typeof e=="object"){if("element"in e){const s=document.querySelector(`[data-clipboard="${e.element}"]`);if(!s)throw new Error(`Missing HTMLElement with an attribute of [data-clipboard="${e.element}"]`);at(s.innerHTML,"text/html").then(l);return}if("input"in e){const s=document.querySelector(`[data-clipboard="${e.input}"]`);if(!s)throw new Error(`Missing HTMLInputElement with an attribute of [data-clipboard="${e.input}"]`);at(s.value).then(l);return}}at(e).then(l)};return a.addEventListener("click",t),{update(s){e=s},destroy(){a.removeEventListener("click",t)}}}async function at(a,e="text/plain"){navigator.clipboard.write?await navigator.clipboard.write([new ClipboardItem({[e]:new Blob([a],{type:e}),"text/plain":new Blob([a],{type:"text/plain"})})]):await new Promise(l=>{l(navigator.clipboard.writeText(String(a)))})}function Et(a){let e,l,t;const s=a[13].default,n=ye(s,a,a[12],null);return{c(){e=qe("text"),n&&n.c(),this.h()},l(r){e=We(r,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,"font-weight":!0,"font-size":!0,class:!0});var o=_(e);n&&n.l(o),o.forEach(u),this.h()},h(){c(e,"x","50%"),c(e,"y","50%"),c(e,"text-anchor","middle"),c(e,"dominant-baseline","middle"),c(e,"font-weight","bold"),c(e,"font-size",a[2]),c(e,"class",l="progress-radial-text "+a[5])},m(r,o){ue(r,e,o),n&&n.m(e,null),t=!0},p(r,o){n&&n.p&&(!t||o&4096)&&De(n,s,r,r[12],t?Ve(s,r[12],o,null):Be(r[12]),null),(!t||o&4)&&c(e,"font-size",r[2]),(!t||o&32&&l!==(l="progress-radial-text "+r[5]))&&c(e,"class",l)},i(r){t||(N(n,r),t=!0)},o(r){A(n,r),t=!1},d(r){r&&u(e),n&&n.d(r)}}}function Nl(a){let e,l,t,s,n,r,o=`${a[7]}
			${a[7]}`,f,p,I,d,g=a[0]!=null&&a[0]>=0&&a[10].default&&Et(a);return{c(){e=v("figure"),l=qe("svg"),t=qe("circle"),n=qe("circle"),g&&g.c(),this.h()},l(m){e=b(m,"FIGURE",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-valuemin":!0,"aria-valuemax":!0});var T=_(e);l=We(T,"svg",{viewBox:!0,class:!0});var D=_(l);t=We(D,"circle",{class:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0}),_(t).forEach(u),n=We(D,"circle",{class:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0}),_(n).forEach(u),g&&g.l(D),D.forEach(u),T.forEach(u),this.h()},h(){c(t,"class",s="progress-radial-track "+It+" "+a[4]),c(t,"stroke-width",a[1]),c(t,"r",xe/2),c(t,"cx","50%"),c(t,"cy","50%"),c(n,"class",r="progress-radial-meter "+wt+" "+a[3]),c(n,"stroke-width",a[1]),c(n,"r",xe/2),c(n,"cx","50%"),c(n,"cy","50%"),Ze(n,"stroke-dasharray",o),Ze(n,"stroke-dashoffset",a[8]),c(l,"viewBox","0 0 "+xe+" "+xe),c(l,"class","rounded-full"),Pe(l,"animate-spin",a[0]===void 0),c(e,"class",f="progress-radial "+a[9]),c(e,"data-testid","progress-radial"),c(e,"role","meter"),c(e,"aria-labelledby",a[6]),c(e,"aria-valuenow",p=a[0]||0),c(e,"aria-valuetext",I=a[0]?`${a[0]}%`:"Indeterminate Spinner"),c(e,"aria-valuemin",0),c(e,"aria-valuemax",100)},m(m,T){ue(m,e,T),i(e,l),i(l,t),i(l,n),g&&g.m(l,null),d=!0},p(m,[T]){(!d||T&16&&s!==(s="progress-radial-track "+It+" "+m[4]))&&c(t,"class",s),(!d||T&2)&&c(t,"stroke-width",m[1]),(!d||T&8&&r!==(r="progress-radial-meter "+wt+" "+m[3]))&&c(n,"class",r),(!d||T&2)&&c(n,"stroke-width",m[1]),T&128&&o!==(o=`${m[7]}
			${m[7]}`)&&Ze(n,"stroke-dasharray",o),T&256&&Ze(n,"stroke-dashoffset",m[8]),m[0]!=null&&m[0]>=0&&m[10].default?g?(g.p(m,T),T&1025&&N(g,1)):(g=Et(m),g.c(),N(g,1),g.m(l,null)):g&&(Ce(),A(g,1,1,()=>{g=null}),Le()),(!d||T&1)&&Pe(l,"animate-spin",m[0]===void 0),(!d||T&512&&f!==(f="progress-radial "+m[9]))&&c(e,"class",f),(!d||T&64)&&c(e,"aria-labelledby",m[6]),(!d||T&1&&p!==(p=m[0]||0))&&c(e,"aria-valuenow",p),(!d||T&1&&I!==(I=m[0]?`${m[0]}%`:"Indeterminate Spinner"))&&c(e,"aria-valuetext",I)},i(m){d||(N(g),d=!0)},o(m){A(g),d=!1},d(m){m&&u(e),g&&g.d()}}}const Tl="progress-radial relative overflow-hidden",It="fill-transparent",wt="fill-transparent transition-[stroke-dashoffset] duration-200 -rotate-90 origin-[50%_50%]",xe=512;function Sl(a,e,l){let t,{$$slots:s={},$$scope:n}=e;const r=zt(s);let{value:o=void 0}=e,{stroke:f=40}=e,{font:p=56}=e,{width:I="w-36"}=e,{meter:d="stroke-surface-900 dark:stroke-surface-50"}=e,{track:g="stroke-surface-500/30"}=e,{fill:m="fill-token"}=e,{labelledby:T=""}=e;const D=xe/2;let V=D,L;function M(h){l(7,V=D*2*Math.PI),l(8,L=V-h/100*V)}return M(0),Jt(()=>{M(o===void 0?25:o)}),a.$$set=h=>{l(16,e=Z(Z({},e),fe(h))),"value"in h&&l(0,o=h.value),"stroke"in h&&l(1,f=h.stroke),"font"in h&&l(2,p=h.font),"width"in h&&l(11,I=h.width),"meter"in h&&l(3,d=h.meter),"track"in h&&l(4,g=h.track),"fill"in h&&l(5,m=h.fill),"labelledby"in h&&l(6,T=h.labelledby),"$$scope"in h&&l(12,n=h.$$scope)},a.$$.update=()=>{l(9,t=`${Tl} ${I} ${e.class??""}`)},e=fe(e),[o,f,p,d,g,m,T,V,L,t,r,I,n,s]}class Al extends Ne{constructor(e){super(),Te(this,e,Sl,Nl,Se,{value:0,stroke:1,font:2,width:11,meter:3,track:4,fill:5,labelledby:6})}}function Mt(a){let e,l;const t=a[22].default,s=ye(t,a,a[21],null);return{c(){e=v("div"),s&&s.c(),this.h()},l(n){e=b(n,"DIV",{class:!0});var r=_(e);s&&s.l(r),r.forEach(u),this.h()},h(){c(e,"class","slide-toggle-text ml-3")},m(n,r){ue(n,e,r),s&&s.m(e,null),l=!0},p(n,r){s&&s.p&&(!l||r[0]&2097152)&&De(s,t,n,n[21],l?Ve(t,n[21],r,null):Be(n[21]),null)},i(n){l||(N(s,n),l=!0)},o(n){A(s,n),l=!1},d(n){n&&u(e),s&&s.d(n)}}}function Pl(a){let e,l,t,s,n,r,o,f,p,I,d,g,m,T,D,V=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:a[1]},a[8](),{disabled:s=a[9].disabled}],L={};for(let h=0;h<V.length;h+=1)L=Z(L,V[h]);let M=a[10].default&&Mt(a);return{c(){e=v("div"),l=v("label"),t=v("input"),n=R(),r=v("div"),o=v("div"),I=R(),M&&M.c(),this.h()},l(h){e=b(h,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var w=_(e);l=b(w,"LABEL",{class:!0});var S=_(l);t=b(S,"INPUT",{type:!0,class:!0,name:!0}),n=$(S),r=b(S,"DIV",{class:!0});var k=_(r);o=b(k,"DIV",{class:!0}),_(o).forEach(u),k.forEach(u),I=$(S),M&&M.l(S),S.forEach(u),w.forEach(u),this.h()},h(){_t(t,L),c(o,"class",f="slide-toggle-thumb "+a[3]),Pe(o,"cursor-not-allowed",a[9].disabled),c(r,"class",p="slide-toggle-track "+a[4]),Pe(r,"cursor-not-allowed",a[9].disabled),c(l,"class",d="slide-toggle-label "+a[5]),c(e,"id",a[2]),c(e,"class",g="slide-toggle "+a[6]),c(e,"data-testid","slide-toggle"),c(e,"role","switch"),c(e,"aria-label",a[2]),c(e,"aria-checked",a[0]),c(e,"tabindex","0")},m(h,w){ue(h,e,w),i(e,l),i(l,t),t.autofocus&&t.focus(),t.checked=a[0],i(l,n),i(l,r),i(r,o),i(l,I),M&&M.m(l,null),m=!0,T||(D=[se(t,"change",a[31]),se(t,"click",a[23]),se(t,"keydown",a[24]),se(t,"keyup",a[25]),se(t,"keypress",a[26]),se(t,"mouseover",a[27]),se(t,"change",a[28]),se(t,"focus",a[29]),se(t,"blur",a[30]),se(e,"keydown",a[7])],T=!0)},p(h,w){_t(t,L=$e(V,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!m||w[0]&2)&&{name:h[1]},h[8](),(!m||w[0]&512&&s!==(s=h[9].disabled))&&{disabled:s}])),w[0]&1&&(t.checked=h[0]),(!m||w[0]&8&&f!==(f="slide-toggle-thumb "+h[3]))&&c(o,"class",f),(!m||w[0]&520)&&Pe(o,"cursor-not-allowed",h[9].disabled),(!m||w[0]&16&&p!==(p="slide-toggle-track "+h[4]))&&c(r,"class",p),(!m||w[0]&528)&&Pe(r,"cursor-not-allowed",h[9].disabled),h[10].default?M?(M.p(h,w),w[0]&1024&&N(M,1)):(M=Mt(h),M.c(),N(M,1),M.m(l,null)):M&&(Ce(),A(M,1,1,()=>{M=null}),Le()),(!m||w[0]&32&&d!==(d="slide-toggle-label "+h[5]))&&c(l,"class",d),(!m||w[0]&4)&&c(e,"id",h[2]),(!m||w[0]&64&&g!==(g="slide-toggle "+h[6]))&&c(e,"class",g),(!m||w[0]&4)&&c(e,"aria-label",h[2]),(!m||w[0]&1)&&c(e,"aria-checked",h[0])},i(h){m||(N(M),m=!0)},o(h){A(M),m=!1},d(h){h&&u(e),M&&M.d(),T=!1,Ge(D)}}}const yl="inline-block",Dl="unstyled flex items-center",Bl="flex transition-all duration-[200ms] cursor-pointer",Vl="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function Cl(a,e,l){let t,s,n,r,o,f,p,I;const d=["name","checked","size","background","active","border","rounded","label"];let g=vt(e,d),{$$slots:m={},$$scope:T}=e;const D=zt(m),V=ot();let{name:L}=e,{checked:M=!1}=e,{size:h="md"}=e,{background:w="bg-surface-400 dark:bg-surface-700"}=e,{active:S="bg-surface-900 dark:bg-surface-300"}=e,{border:k=""}=e,{rounded:B="rounded-full"}=e,{label:C=""}=e,ne;switch(h){case"sm":ne="w-12 h-6";break;case"lg":ne="w-20 h-10";break;default:ne="w-16 h-8"}function ae(P){["Enter","Space"].includes(P.code)&&(P.preventDefault(),V("keyup",P),P.currentTarget.firstChild.click())}function te(){return delete g.class,g}function le(P){Fe.call(this,a,P)}function U(P){Fe.call(this,a,P)}function ve(P){Fe.call(this,a,P)}function re(P){Fe.call(this,a,P)}function pe(P){Fe.call(this,a,P)}function ce(P){Fe.call(this,a,P)}function be(P){Fe.call(this,a,P)}function ke(P){Fe.call(this,a,P)}function G(){M=this.checked,l(0,M)}return a.$$set=P=>{l(9,e=Z(Z({},e),fe(P))),l(33,g=vt(e,d)),"name"in P&&l(1,L=P.name),"checked"in P&&l(0,M=P.checked),"size"in P&&l(11,h=P.size),"background"in P&&l(12,w=P.background),"active"in P&&l(13,S=P.active),"border"in P&&l(14,k=P.border),"rounded"in P&&l(15,B=P.rounded),"label"in P&&l(2,C=P.label),"$$scope"in P&&l(21,T=P.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&12289&&l(19,t=M?S:`${w} cursor-pointer`),a.$$.dirty[0]&1&&l(18,s=M?"bg-white/75":"bg-white"),a.$$.dirty[0]&1&&l(17,n=M?"translate-x-full":""),l(20,r=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),l(6,o=`${yl} ${B} ${r} ${e.class??""}`),a.$$.dirty[0]&638976&&l(4,p=`${Bl} ${k} ${B} ${ne} ${t}`),a.$$.dirty[0]&425984&&l(3,I=`${Vl} ${B} ${s} ${n}`)},l(5,f=`${Dl}`),e=fe(e),[M,L,C,I,p,f,o,ae,te,e,D,h,w,S,k,B,ne,n,s,t,r,T,m,le,U,ve,re,pe,ce,be,ke,G]}class Ll extends Ne{constructor(e){super(),Te(this,e,Cl,Pl,Se,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}function Nt(a){let e,l,t,s=Tt(a[0])+"",n,r,o,f=(a[7]?a[4]:a[3])+"",p,I,d,g,m,T,D,V,L,M;function h(k,B){return k[6]?$l:Rl}let w=h(a),S=w(a);return{c(){e=v("div"),l=v("header"),t=v("span"),n=me(s),r=R(),o=v("button"),p=me(f),g=R(),m=v("pre"),T=v("code"),S.c(),this.h()},l(k){e=b(k,"DIV",{class:!0,"data-testid":!0});var B=_(e);l=b(B,"HEADER",{class:!0});var C=_(l);t=b(C,"SPAN",{class:!0});var ne=_(t);n=_e(ne,s),ne.forEach(u),r=$(C),o=b(C,"BUTTON",{class:!0});var ae=_(o);p=_e(ae,f),ae.forEach(u),C.forEach(u),g=$(B),m=b(B,"PRE",{class:!0});var te=_(m);T=b(te,"CODE",{class:!0});var le=_(T);S.l(le),le.forEach(u),te.forEach(u),B.forEach(u),this.h()},h(){c(t,"class","codeblock-language"),c(o,"class",I="codeblock-btn "+a[2]),c(l,"class","codeblock-header "+Ul),c(T,"class",D="codeblock-code language-"+a[0]+" lineNumbers"),c(m,"class","codeblock-pre "+Hl),c(e,"class",V="codeblock "+a[8]),c(e,"data-testid","codeblock")},m(k,B){ue(k,e,B),i(e,l),i(l,t),i(t,n),i(l,r),i(l,o),i(o,p),i(e,g),i(e,m),i(m,T),S.m(T,null),L||(M=[se(o,"click",a[9]),Ut(d=Ml.call(null,o,a[1]))],L=!0)},p(k,B){B&1&&s!==(s=Tt(k[0])+"")&&je(n,s),B&152&&f!==(f=(k[7]?k[4]:k[3])+"")&&je(p,f),B&4&&I!==(I="codeblock-btn "+k[2])&&c(o,"class",I),d&&Yt(d.update)&&B&2&&d.update.call(null,k[1]),w===(w=h(k))&&S?S.p(k,B):(S.d(1),S=w(k),S&&(S.c(),S.m(T,null))),B&1&&D!==(D="codeblock-code language-"+k[0]+" lineNumbers")&&c(T,"class",D),B&256&&V!==(V="codeblock "+k[8])&&c(e,"class",V)},d(k){k&&u(e),S.d(),L=!1,Ge(M)}}}function Rl(a){let e=a[1].trim()+"",l;return{c(){l=me(e)},l(t){l=_e(t,e)},m(t,s){ue(t,l,s)},p(t,s){s&2&&e!==(e=t[1].trim()+"")&&je(l,e)},d(t){t&&u(l)}}}function $l(a){let e,l;return{c(){e=new Kt(!1),l=Xe(),this.h()},l(t){e=Qt(t,!1),l=Xe(),this.h()},h(){e.a=l},m(t,s){e.m(a[5],t,s),ue(t,l,s)},p(t,s){s&32&&e.p(t[5])},d(t){t&&u(l),t&&e.d()}}}function Ol(a){let e,l=a[0]&&a[1]&&Nt(a);return{c(){l&&l.c(),e=Xe()},l(t){l&&l.l(t),e=Xe()},m(t,s){l&&l.m(t,s),ue(t,e,s)},p(t,[s]){t[0]&&t[1]?l?l.p(t,s):(l=Nt(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Ue,o:Ue,d(t){l&&l.d(t),t&&u(e)}}}const zl="overflow-hidden shadow",Ul="text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4",Hl="whitespace-pre-wrap break-all p-4 pt-1";function Tt(a){return a==="js"?"javascript":a==="ts"?"typescript":a}function Fl(a,e,l){let t,s;tt(a,il,k=>l(17,s=k));const n=ot();let{language:r="plaintext"}=e,{code:o=""}=e,{lineNumbers:f=!1}=e,{background:p="bg-neutral-900/90"}=e,{blur:I=""}=e,{text:d="text-sm"}=e,{color:g="text-white"}=e,{rounded:m="rounded-container-token"}=e,{shadow:T="shadow"}=e,{button:D="btn btn-sm variant-soft !text-white"}=e,{buttonLabel:V="Copy"}=e,{buttonCopied:L="👍"}=e,M=!1,h=o,w=!1;function S(){l(7,w=!0),setTimeout(()=>{l(7,w=!1)},2e3),n("copy")}return a.$$set=k=>{l(19,e=Z(Z({},e),fe(k))),"language"in k&&l(0,r=k.language),"code"in k&&l(1,o=k.code),"lineNumbers"in k&&l(10,f=k.lineNumbers),"background"in k&&l(11,p=k.background),"blur"in k&&l(12,I=k.blur),"text"in k&&l(13,d=k.text),"color"in k&&l(14,g=k.color),"rounded"in k&&l(15,m=k.rounded),"shadow"in k&&l(16,T=k.shadow),"button"in k&&l(2,D=k.button),"buttonLabel"in k&&l(3,V=k.buttonLabel),"buttonCopied"in k&&l(4,L=k.buttonCopied)},a.$$.update=()=>{a.$$.dirty&131075&&s!==void 0&&(l(5,h=s.highlight(o,{language:r}).value.trim()),l(6,M=!0)),a.$$.dirty&1056&&f&&(l(5,h=h.replace(/^/gm,()=>'<span class="line"></span>	')),l(6,M=!0)),l(8,t=`${zl} ${p} ${I} ${d} ${g} ${m} ${T} ${e.class??""}`)},e=fe(e),[r,o,D,V,L,h,M,w,t,S,f,p,I,d,g,m,T,s]}class Xt extends Ne{constructor(e){super(),Te(this,e,Fl,Ol,Se,{language:0,code:1,lineNumbers:10,background:11,blur:12,text:13,color:14,rounded:15,shadow:16,button:2,buttonLabel:3,buttonCopied:4})}}function jl(a){let e,l;return e=new Xt({props:{language:"plaintext",code:a[0]}}),{c(){J(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.code=t[0]),e.$set(n)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Xl(a){let e,l;return e=new Xt({props:{language:a[1],code:a[0]}}),{c(){J(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},p(t,s){const n={};s&2&&(n.language=t[1]),s&1&&(n.code=t[0]),e.$set(n)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Gl(a){let e,l,t,s;const n=[Xl,jl],r=[];function o(f,p){return f[2][f[1]]?0:1}return e=o(a),l=r[e]=n[e](a),{c(){l.c(),t=Xe()},l(f){l.l(f),t=Xe()},m(f,p){r[e].m(f,p),ue(f,t,p),s=!0},p(f,[p]){let I=e;e=o(f),e===I?r[e].p(f,p):(Ce(),A(r[I],1,1,()=>{r[I]=null}),Le(),l=r[e],l?l.p(f,p):(l=r[e]=n[e](f),l.c()),N(l,1),l.m(t.parentNode,t))},i(f){s||(N(l),s=!0)},o(f){A(l),s=!1},d(f){r[e].d(f),f&&u(t)}}}function ql(a,e,l){let t,{lang:s}=e,{text:n}=e,r={plaintext:!0};async function o(f){if(!r[f]&&wl)try{const p=await ol(()=>import(`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/es/languages/${f}.min.js`),[],import.meta.url);cl.registerLanguage(f,p.default),l(2,r[f]=!0,r)}catch{console.info(`Language ${f} not found for highlight.js`)}}return a.$$set=f=>{"lang"in f&&l(3,s=f.lang),"text"in f&&l(0,n=f.text)},a.$$.update=()=>{a.$$.dirty&8&&l(1,t=s||"plaintext"),a.$$.dirty&2&&o(t)},[n,t,r,s]}class Gt extends Ne{constructor(e){super(),Te(this,e,ql,Gl,Se,{lang:3,text:0})}}function Wl(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function Jl(a){let e,l;const t=[{name:"git-branch"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[Wl]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Yl(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M7 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}],["path",{d:"M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}],["path",{d:"M17 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}],["path",{d:"M7 8l0 8"}],["path",{d:"M9 18h6a2 2 0 0 0 2 -2v-5"}],["path",{d:"M14 14l3 -3l3 3"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class Kl extends Ne{constructor(e){super(),Te(this,e,Yl,Jl,Se,{})}}const qt=Kl;function Ql(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function Zl(a){let e,l;const t=[{name:"360"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[Ql]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function xl(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M17 15.328c2.414 -.718 4 -1.94 4 -3.328c0 -2.21 -4.03 -4 -9 -4s-9 1.79 -9 4s4.03 4 9 4"}],["path",{d:"M9 13l3 3l-3 3"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class es extends Ne{constructor(e){super(),Te(this,e,xl,Zl,Se,{})}}const ts=es;function ls(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function ss(a){let e,l;const t=[{name:"refresh-dot"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[ls]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function ns(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class as extends Ne{constructor(e){super(),Te(this,e,ns,ss,Se,{})}}const rs=as;function os(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function is(a){let e,l;const t=[{name:"pencil"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[os]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function cs(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"}],["path",{d:"M13.5 6.5l4 4"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class fs extends Ne{constructor(e){super(),Te(this,e,cs,is,Se,{})}}const us=fs;function ds(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function hs(a){let e,l;const t=[{name:"circle-x"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[ds]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function gs(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}],["path",{d:"M10 10l4 4m0 -4l-4 4"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class ms extends Ne{constructor(e){super(),Te(this,e,gs,hs,Se,{})}}const _s=ms;function vs(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function bs(a){let e,l;const t=[{name:"arrow-merge"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[vs]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function ps(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M8 7l4 -4l4 4"}],["path",{d:"M12 3v5.394a6.737 6.737 0 0 1 -3 5.606a6.737 6.737 0 0 0 -3 5.606v1.394"}],["path",{d:"M12 3v5.394a6.737 6.737 0 0 0 3 5.606a6.737 6.737 0 0 1 3 5.606v1.394"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class ks extends Ne{constructor(e){super(),Te(this,e,ps,bs,Se,{})}}const Es=ks;function Is(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function ws(a){let e,l;const t=[{name:"trash"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[Is]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Ms(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M4 7l16 0"}],["path",{d:"M10 11l0 6"}],["path",{d:"M14 11l0 6"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class Ns extends Ne{constructor(e){super(),Te(this,e,Ms,ws,Se,{})}}const Ts=Ns;function Ss(a){let e,l,t,s,n,r,o,f,p,I,d,g,m,T,D,V,L,M,h,w,S,k,B,C,ne,ae,te,le,U,ve,re,pe,ce,be,ke,G,P;const j=[Ds,ys],de=[];function W(y,F){return y[8]?0:1}t=W(a),s=de[t]=j[t](a);let oe=a[3]>1&&St(a);function H(y,F){if(y[0].role==="assistant")return Vs;if(y[0].role==="system")return Bs}let X=H(a),q=X&&X(a),z=a[0].role==="assistant"&&At(a);return L=new us({props:{size:"18"}}),S=new Ts({props:{size:"18"}}),ne=new qt({props:{size:"18"}}),U=new Es({props:{size:"18"}}),ce=new ts({props:{size:"18"}}),{c(){e=v("div"),l=v("p"),s.c(),n=R(),r=v("hr"),o=R(),f=v("div"),oe&&oe.c(),p=R(),q&&q.c(),I=R(),d=v("div"),g=R(),m=v("div"),z&&z.c(),T=R(),D=v("button"),V=v("span"),J(L.$$.fragment),M=R(),h=v("button"),w=v("span"),J(S.$$.fragment),k=R(),B=v("button"),C=v("span"),J(ne.$$.fragment),ae=R(),te=v("button"),le=v("span"),J(U.$$.fragment),ve=R(),re=v("button"),pe=v("span"),J(ce.$$.fragment),this.h()},l(y){e=b(y,"DIV",{class:!0});var F=_(e);l=b(F,"P",{class:!0});var we=_(l);s.l(we),we.forEach(u),n=$(F),r=b(F,"HR",{class:!0}),o=$(F),f=b(F,"DIV",{class:!0});var Ee=_(f);oe&&oe.l(Ee),p=$(Ee),q&&q.l(Ee),I=$(Ee),d=b(Ee,"DIV",{class:!0}),_(d).forEach(u),g=$(Ee),m=b(Ee,"DIV",{class:!0});var ge=_(m);z&&z.l(ge),T=$(ge),D=b(ge,"BUTTON",{type:!0,class:!0,title:!0});var x=_(D);V=b(x,"SPAN",{class:!0});var ee=_(V);Y(L.$$.fragment,ee),ee.forEach(u),x.forEach(u),M=$(ge),h=b(ge,"BUTTON",{type:!0,class:!0,title:!0});var E=_(h);w=b(E,"SPAN",{class:!0});var O=_(w);Y(S.$$.fragment,O),O.forEach(u),E.forEach(u),k=$(ge),B=b(ge,"BUTTON",{type:!0,class:!0,title:!0});var ie=_(B);C=b(ie,"SPAN",{class:!0});var he=_(C);Y(ne.$$.fragment,he),he.forEach(u),ie.forEach(u),ae=$(ge),te=b(ge,"BUTTON",{type:!0,class:!0,title:!0});var Ie=_(te);le=b(Ie,"SPAN",{class:!0});var Me=_(le);Y(U.$$.fragment,Me),Me.forEach(u),Ie.forEach(u),ve=$(ge),re=b(ge,"BUTTON",{type:!0,class:!0,title:!0});var Ae=_(re);pe=b(Ae,"SPAN",{class:!0});var Re=_(pe);Y(ce.$$.fragment,Re),Re.forEach(u),Ae.forEach(u),ge.forEach(u),Ee.forEach(u),F.forEach(u),this.h()},h(){c(l,"class","mb-3 font-normal text-gray-700 dark:text-gray-100 prose max-w-full svelte-1rgkx4t"),c(r,"class","svelte-1rgkx4t"),c(d,"class","flex-grow svelte-1rgkx4t"),c(V,"class","svelte-1rgkx4t"),c(D,"type","button"),c(D,"class","btn-icon btn-icon-sm variant-glass hover:variant-ghost svelte-1rgkx4t"),c(D,"title","Edit it!"),c(w,"class","svelte-1rgkx4t"),c(h,"type","button"),c(h,"class","btn-icon btn-icon-sm variant-glass hover:variant-ghost svelte-1rgkx4t"),c(h,"title","Trash it!"),c(C,"class","svelte-1rgkx4t"),c(B,"type","button"),c(B,"class","btn-icon btn-icon-sm variant-glass hover:variant-ghost svelte-1rgkx4t"),c(B,"title","Fork it!"),c(le,"class","svelte-1rgkx4t"),c(te,"type","button"),c(te,"class","btn-icon btn-icon-sm variant-glass hover:variant-ghost svelte-1rgkx4t"),c(te,"title","Merge it!"),c(pe,"class","svelte-1rgkx4t"),c(re,"type","button"),c(re,"class","btn-icon btn-icon-sm variant-glass hover:variant-ghost svelte-1rgkx4t"),c(re,"title","Flip it!"),c(m,"class","flex items-center gap-3 svelte-1rgkx4t"),c(f,"class","flex items-center justify-between py-2 svelte-1rgkx4t"),c(e,"class",be="card px-4 pt-4 m-2 "+a[21][a[0].role]+" svelte-1rgkx4t"),Pe(e,"fork-selected",a[5])},m(y,F){ue(y,e,F),i(e,l),de[t].m(l,null),i(e,n),i(e,r),i(e,o),i(e,f),oe&&oe.m(f,null),i(f,p),q&&q.m(f,null),i(f,I),i(f,d),i(f,g),i(f,m),z&&z.m(m,null),i(m,T),i(m,D),i(D,V),K(L,V,null),i(m,M),i(m,h),i(h,w),K(S,w,null),i(m,k),i(m,B),i(B,C),K(ne,C,null),i(m,ae),i(m,te),i(te,le),K(U,le,null),i(m,ve),i(m,re),i(re,pe),K(ce,pe,null),ke=!0,G||(P=[se(D,"click",a[20]),se(h,"click",a[16]),se(B,"click",a[11]),se(te,"click",a[15]),se(re,"click",a[19])],G=!0)},p(y,F){let we=t;t=W(y),t===we?de[t].p(y,F):(Ce(),A(de[we],1,1,()=>{de[we]=null}),Le(),s=de[t],s?s.p(y,F):(s=de[t]=j[t](y),s.c()),N(s,1),s.m(l,null)),y[3]>1?oe?(oe.p(y,F),F&8&&N(oe,1)):(oe=St(y),oe.c(),N(oe,1),oe.m(f,p)):oe&&(Ce(),A(oe,1,1,()=>{oe=null}),Le()),X===(X=H(y))&&q?q.p(y,F):(q&&q.d(1),q=X&&X(y),q&&(q.c(),q.m(f,I))),y[0].role==="assistant"?z?(z.p(y,F),F&1&&N(z,1)):(z=At(y),z.c(),N(z,1),z.m(m,T)):z&&(Ce(),A(z,1,1,()=>{z=null}),Le()),(!ke||F&1&&be!==(be="card px-4 pt-4 m-2 "+y[21][y[0].role]+" svelte-1rgkx4t"))&&c(e,"class",be),(!ke||F&33)&&Pe(e,"fork-selected",y[5])},i(y){ke||(N(s),N(oe),N(z),N(L.$$.fragment,y),N(S.$$.fragment,y),N(ne.$$.fragment,y),N(U.$$.fragment,y),N(ce.$$.fragment,y),ke=!0)},o(y){A(s),A(oe),A(z),A(L.$$.fragment,y),A(S.$$.fragment,y),A(ne.$$.fragment,y),A(U.$$.fragment,y),A(ce.$$.fragment,y),ke=!1},d(y){y&&u(e),de[t].d(),oe&&oe.d(),q&&q.d(),z&&z.d(),Q(L),Q(S),Q(ne),Q(U),Q(ce),G=!1,Ge(P)}}}function As(a){let e,l,t,s,n,r,o,f,p,I,d,g,m,T,D,V,L,M,h,w,S,k,B,C,ne,ae,te,le,U,ve,re,pe,ce,be,ke,G,P,j,de,W,oe,H,X,q,z;return C=new ml({props:{size:"18"}}),re=new qt({props:{size:"18"}}),j=new _s({props:{size:"18"}}),{c(){e=v("div"),l=v("textarea"),t=R(),s=v("hr"),n=R(),r=v("div"),o=v("div"),f=v("div"),p=me("Role"),I=R(),d=v("select"),g=v("option"),m=me("User"),T=v("option"),D=me("Assistant"),V=v("option"),L=me("System Message"),M=R(),h=v("div"),w=R(),S=v("div"),k=v("button"),B=v("span"),J(C.$$.fragment),ne=R(),ae=v("span"),te=me("Save in-place"),le=R(),U=v("button"),ve=v("span"),J(re.$$.fragment),pe=R(),ce=v("span"),be=me("Save & Fork"),ke=R(),G=v("button"),P=v("span"),J(j.$$.fragment),de=R(),W=v("span"),oe=me("Cancel"),this.h()},l(y){e=b(y,"DIV",{class:!0});var F=_(e);l=b(F,"TEXTAREA",{class:!0}),_(l).forEach(u),t=$(F),s=b(F,"HR",{class:!0}),n=$(F),r=b(F,"DIV",{class:!0});var we=_(r);o=b(we,"DIV",{class:!0});var Ee=_(o);f=b(Ee,"DIV",{class:!0});var ge=_(f);p=_e(ge,"Role"),ge.forEach(u),I=$(Ee),d=b(Ee,"SELECT",{class:!0});var x=_(d);g=b(x,"OPTION",{class:!0});var ee=_(g);m=_e(ee,"User"),ee.forEach(u),T=b(x,"OPTION",{class:!0});var E=_(T);D=_e(E,"Assistant"),E.forEach(u),V=b(x,"OPTION",{class:!0});var O=_(V);L=_e(O,"System Message"),O.forEach(u),x.forEach(u),Ee.forEach(u),M=$(we),h=b(we,"DIV",{class:!0}),_(h).forEach(u),w=$(we),S=b(we,"DIV",{class:!0});var ie=_(S);k=b(ie,"BUTTON",{type:!0,class:!0});var he=_(k);B=b(he,"SPAN",{class:!0});var Ie=_(B);Y(C.$$.fragment,Ie),Ie.forEach(u),ne=$(he),ae=b(he,"SPAN",{class:!0});var Me=_(ae);te=_e(Me,"Save in-place"),Me.forEach(u),he.forEach(u),le=$(ie),U=b(ie,"BUTTON",{type:!0,class:!0});var Ae=_(U);ve=b(Ae,"SPAN",{class:!0});var Re=_(ve);Y(re.$$.fragment,Re),Re.forEach(u),pe=$(Ae),ce=b(Ae,"SPAN",{class:!0});var Je=_(ce);be=_e(Je,"Save & Fork"),Je.forEach(u),Ae.forEach(u),ke=$(ie),G=b(ie,"BUTTON",{type:!0,class:!0});var He=_(G);P=b(He,"SPAN",{class:!0});var Ye=_(P);Y(j.$$.fragment,Ye),Ye.forEach(u),de=$(He),W=b(He,"SPAN",{class:!0});var Ke=_(W);oe=_e(Ke,"Cancel"),Ke.forEach(u),He.forEach(u),ie.forEach(u),we.forEach(u),F.forEach(u),this.h()},h(){c(l,"class","w-full h-64 p-2 bg-surface-50-900-token svelte-1rgkx4t"),c(s,"class","svelte-1rgkx4t"),c(f,"class","input-group-shim svelte-1rgkx4t"),g.__value="user",g.value=g.__value,c(g,"class","svelte-1rgkx4t"),T.__value="assistant",T.value=T.__value,c(T,"class","svelte-1rgkx4t"),V.__value="system",V.value=V.__value,c(V,"class","svelte-1rgkx4t"),c(d,"class","select svelte-1rgkx4t"),a[7]===void 0&&xt(()=>a[24].call(d)),c(o,"class","input-group input-group-divider grid-cols-[auto_1fr] flex-grow-0 svelte-1rgkx4t"),c(h,"class","flex-grow svelte-1rgkx4t"),c(B,"class","svelte-1rgkx4t"),c(ae,"class","svelte-1rgkx4t"),c(k,"type","button"),c(k,"class","btn variant-glass-primary hover:variant-ghost svelte-1rgkx4t"),c(ve,"class","svelte-1rgkx4t"),c(ce,"class","svelte-1rgkx4t"),c(U,"type","button"),c(U,"class","btn variant-glass-primary hover:variant-ghost svelte-1rgkx4t"),c(P,"class","svelte-1rgkx4t"),c(W,"class","svelte-1rgkx4t"),c(G,"type","button"),c(G,"class","btn variant-glass-primary hover:variant-ghost svelte-1rgkx4t"),c(S,"class","flex items-center gap-3 svelte-1rgkx4t"),c(r,"class","flex items-center justify-between py-2 gap-2 svelte-1rgkx4t"),c(e,"class",H="card px-4 pt-4 m-2 "+a[21][a[0].role]+" svelte-1rgkx4t"),Pe(e,"fork-selected",a[5])},m(y,F){ue(y,e,F),i(e,l),lt(l,a[6]),i(e,t),i(e,s),i(e,n),i(e,r),i(r,o),i(o,f),i(f,p),i(o,I),i(o,d),i(d,g),i(g,m),i(d,T),i(T,D),i(d,V),i(V,L),bt(d,a[7],!0),i(r,M),i(r,h),i(r,w),i(r,S),i(S,k),i(k,B),K(C,B,null),i(k,ne),i(k,ae),i(ae,te),i(S,le),i(S,U),i(U,ve),K(re,ve,null),i(U,pe),i(U,ce),i(ce,be),i(S,ke),i(S,G),i(G,P),K(j,P,null),i(G,de),i(G,W),i(W,oe),X=!0,q||(z=[se(l,"input",a[23]),se(d,"change",a[24]),se(k,"click",a[17]),se(U,"click",a[18]),se(G,"click",a[20])],q=!0)},p(y,F){F&64&&lt(l,y[6]),F&128&&bt(d,y[7]),(!X||F&1&&H!==(H="card px-4 pt-4 m-2 "+y[21][y[0].role]+" svelte-1rgkx4t"))&&c(e,"class",H),(!X||F&33)&&Pe(e,"fork-selected",y[5])},i(y){X||(N(C.$$.fragment,y),N(re.$$.fragment,y),N(j.$$.fragment,y),X=!0)},o(y){A(C.$$.fragment,y),A(re.$$.fragment,y),A(j.$$.fragment,y),X=!1},d(y){y&&u(e),Q(C),Q(re),Q(j),q=!1,Ge(z)}}}function Ps(a){let e,l,t,s,n,r,o,f,p,I,d,g,m,T,D,V,L,M,h;return{c(){e=v("section"),l=v("div"),t=v("div"),s=R(),n=v("div"),r=v("div"),o=R(),f=v("div"),p=R(),I=v("div"),d=R(),g=v("div"),m=v("div"),T=R(),D=v("div"),V=R(),L=v("div"),M=R(),h=v("div"),this.h()},l(w){e=b(w,"SECTION",{class:!0});var S=_(e);l=b(S,"DIV",{class:!0});var k=_(l);t=b(k,"DIV",{class:!0}),_(t).forEach(u),s=$(k),n=b(k,"DIV",{class:!0});var B=_(n);r=b(B,"DIV",{class:!0}),_(r).forEach(u),o=$(B),f=b(B,"DIV",{class:!0}),_(f).forEach(u),p=$(B),I=b(B,"DIV",{class:!0}),_(I).forEach(u),B.forEach(u),d=$(k),g=b(k,"DIV",{class:!0});var C=_(g);m=b(C,"DIV",{class:!0}),_(m).forEach(u),T=$(C),D=b(C,"DIV",{class:!0}),_(D).forEach(u),V=$(C),L=b(C,"DIV",{class:!0}),_(L).forEach(u),M=$(C),h=b(C,"DIV",{class:!0}),_(h).forEach(u),C.forEach(u),k.forEach(u),S.forEach(u),this.h()},h(){c(t,"class","placeholder svelte-1rgkx4t"),c(r,"class","placeholder svelte-1rgkx4t"),c(f,"class","placeholder svelte-1rgkx4t"),c(I,"class","placeholder svelte-1rgkx4t"),c(n,"class","grid grid-cols-3 gap-8 svelte-1rgkx4t"),c(m,"class","placeholder svelte-1rgkx4t"),c(D,"class","placeholder svelte-1rgkx4t"),c(L,"class","placeholder svelte-1rgkx4t"),c(h,"class","placeholder svelte-1rgkx4t"),c(g,"class","grid grid-cols-4 gap-4 svelte-1rgkx4t"),c(l,"class","p-4 space-y-4 svelte-1rgkx4t"),c(e,"class","card m-2 variant-ghost animate-pulse svelte-1rgkx4t")},m(w,S){ue(w,e,S),i(e,l),i(l,t),i(l,s),i(l,n),i(n,r),i(n,o),i(n,f),i(n,p),i(n,I),i(l,d),i(l,g),i(g,m),i(g,T),i(g,D),i(g,V),i(g,L),i(g,M),i(g,h)},p:Ue,i:Ue,o:Ue,d(w){w&&u(e)}}}function ys(a){let e,l;return e=new fl({props:{source:a[10],renderers:{code:Gt}}}),{c(){J(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},p(t,s){const n={};s&1024&&(n.source=t[10]),e.$set(n)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Ds(a){let e,l;return e=new Gt({props:{lang:"markdown",text:a[10]}}),{c(){J(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},p(t,s){const n={};s&1024&&(n.text=t[10]),e.$set(n)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function St(a){let e,l,t,s,n,r,o,f,p,I,d,g,m,T,D,V,L;return s=new Ft({props:{size:"12"}}),m=new jt({props:{size:"12"}}),{c(){e=v("div"),l=v("button"),t=v("span"),J(s.$$.fragment),r=R(),o=me(a[2]),f=me(" / "),p=me(a[3]),I=R(),d=v("button"),g=v("span"),J(m.$$.fragment),this.h()},l(M){e=b(M,"DIV",{class:!0});var h=_(e);l=b(h,"BUTTON",{class:!0});var w=_(l);t=b(w,"SPAN",{class:!0});var S=_(t);Y(s.$$.fragment,S),S.forEach(u),w.forEach(u),r=$(h),o=_e(h,a[2]),f=_e(h," / "),p=_e(h,a[3]),I=$(h),d=b(h,"BUTTON",{class:!0});var k=_(d);g=b(k,"SPAN",{class:!0});var B=_(g);Y(m.$$.fragment,B),B.forEach(u),k.forEach(u),h.forEach(u),this.h()},h(){c(t,"class","svelte-1rgkx4t"),c(l,"class","p-[0.5rem] w-0.5 h-0.5 btn-icon btn-icon-sm variant-soft-tertiary svelte-1rgkx4t"),l.disabled=n=a[2]===1,c(g,"class","svelte-1rgkx4t"),c(d,"class","p-[0.5rem] w-0.5 h-0.5 btn-icon btn-icon-sm variant-soft-tertiary svelte-1rgkx4t"),d.disabled=T=a[2]===a[3],c(e,"class","svelte-1rgkx4t")},m(M,h){ue(M,e,h),i(e,l),i(l,t),K(s,t,null),i(e,r),i(e,o),i(e,f),i(e,p),i(e,I),i(e,d),i(d,g),K(m,g,null),D=!0,V||(L=[se(l,"click",a[13]),se(d,"click",a[12])],V=!0)},p(M,h){(!D||h&4&&n!==(n=M[2]===1))&&(l.disabled=n),(!D||h&4)&&je(o,M[2]),(!D||h&8)&&je(p,M[3]),(!D||h&12&&T!==(T=M[2]===M[3]))&&(d.disabled=T)},i(M){D||(N(s.$$.fragment,M),N(m.$$.fragment,M),D=!0)},o(M){A(s.$$.fragment,M),A(m.$$.fragment,M),D=!1},d(M){M&&u(e),Q(s),Q(m),V=!1,Ge(L)}}}function Bs(a){let e,l;return{c(){e=v("div"),l=me("System Message"),this.h()},l(t){e=b(t,"DIV",{class:!0});var s=_(e);l=_e(s,"System Message"),s.forEach(u),this.h()},h(){c(e,"class","text-sm text-surface-400-500-token svelte-1rgkx4t")},m(t,s){ue(t,e,s),i(e,l)},p:Ue,d(t){t&&u(e)}}}function Vs(a){let e,l;return{c(){e=v("div"),l=me(a[1]),this.h()},l(t){e=b(t,"DIV",{class:!0});var s=_(e);l=_e(s,a[1]),s.forEach(u),this.h()},h(){c(e,"class","text-sm text-surface-400-500-token svelte-1rgkx4t")},m(t,s){ue(t,e,s),i(e,l)},p(t,s){s&2&&je(l,t[1])},d(t){t&&u(e)}}}function At(a){let e,l,t,s,n,r;return t=new rs({props:{size:"18"}}),{c(){e=v("button"),l=v("span"),J(t.$$.fragment),this.h()},l(o){e=b(o,"BUTTON",{type:!0,class:!0,title:!0});var f=_(e);l=b(f,"SPAN",{class:!0});var p=_(l);Y(t.$$.fragment,p),p.forEach(u),f.forEach(u),this.h()},h(){c(l,"class","svelte-1rgkx4t"),c(e,"type","button"),c(e,"class","btn-icon btn-icon-sm variant-glass hover:variant-ghost svelte-1rgkx4t"),c(e,"title","Redo it!")},m(o,f){ue(o,e,f),i(e,l),K(t,l,null),s=!0,n||(r=se(e,"click",a[14]),n=!0)},p:Ue,i(o){s||(N(t.$$.fragment,o),s=!0)},o(o){A(t.$$.fragment,o),s=!1},d(o){o&&u(e),Q(t),n=!1,r()}}}function Cs(a){let e,l,t,s;const n=[Ps,As,Ss],r=[];function o(f,p){return f[4]?0:f[9]?1:2}return e=o(a),l=r[e]=n[e](a),{c(){l.c(),t=Xe()},l(f){l.l(f),t=Xe()},m(f,p){r[e].m(f,p),ue(f,t,p),s=!0},p(f,[p]){let I=e;e=o(f),e===I?r[e].p(f,p):(Ce(),A(r[I],1,1,()=>{r[I]=null}),Le(),l=r[e],l?l.p(f,p):(l=r[e]=n[e](f),l.c()),N(l,1),l.m(t.parentNode,t))},i(f){s||(N(l),s=!0)},o(f){A(l),s=!1},d(f){r[e].d(f),f&&u(t)}}}function Ls(a,e,l){let t,{msg:s=null}=e,{source:n=null}=e,{selfPosition:r=0}=e,{alternativesCount:o=0}=e,{placeholder:f=!1}=e,{forkSelected:p=!1}=e,{isStreaming:I=!1}=e,d,g;const m=ot(),T=()=>{m("fork",s)},D=()=>{m("nextThread",s)},V=()=>{m("prevThread",s)},L=()=>{m("regenerate",s)},M=()=>{m("merge",s)},h=()=>{m("trash",s)},w=()=>{m("saveInPlace",{message:s,newContent:d,newRole:g}),l(9,C=!1)},S=()=>{m("saveAndFork",{message:s,newContent:d,newRole:g}),l(9,C=!1)};let k=!1;function B(){l(8,k=!k)}let C=!1;function ne(){l(6,d=s.content),l(7,g=s.role),l(9,C=!C)}const ae={user:"variant-glass",assistant:"variant-ghost",system:"variant-soft-surface"};function te(){d=this.value,l(6,d)}function le(){g=Zt(this),l(7,g)}return a.$$set=U=>{"msg"in U&&l(0,s=U.msg),"source"in U&&l(1,n=U.source),"selfPosition"in U&&l(2,r=U.selfPosition),"alternativesCount"in U&&l(3,o=U.alternativesCount),"placeholder"in U&&l(4,f=U.placeholder),"forkSelected"in U&&l(5,p=U.forkSelected),"isStreaming"in U&&l(22,I=U.isStreaming)},a.$$.update=()=>{a.$$.dirty&4194305&&l(10,t=I?s.content+"<span class='streaming-message' />":s.content)},[s,n,r,o,f,p,d,g,k,C,t,T,D,V,L,M,h,w,S,B,ne,ae,I,te,le]}class Rs extends Ne{constructor(e){super(),Te(this,e,Ls,Cs,Se,{msg:0,source:1,selfPosition:2,alternativesCount:3,placeholder:4,forkSelected:5,isStreaming:22})}}function $s(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function Os(a){let e,l;const t=[{name:"topology-star-ring-3"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[$s]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function zs(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M10 19a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"}],["path",{d:"M18 5a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"}],["path",{d:"M10 5a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"}],["path",{d:"M6 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"}],["path",{d:"M18 19a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"}],["path",{d:"M14 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"}],["path",{d:"M22 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"}],["path",{d:"M6 12h4"}],["path",{d:"M14 12h4"}],["path",{d:"M15 7l-2 3"}],["path",{d:"M9 7l2 3"}],["path",{d:"M11 14l-2 3"}],["path",{d:"M13 14l2 3"}],["path",{d:"M10 5h4"}],["path",{d:"M10 19h4"}],["path",{d:"M17 17l2 -3"}],["path",{d:"M19 10l-2 -3"}],["path",{d:"M7 7l-2 3"}],["path",{d:"M5 14l2 3"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class Us extends Ne{constructor(e){super(),Te(this,e,zs,Os,Se,{})}}const Hs=Us;function Fs(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function js(a){let e,l;const t=[{name:"copy"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[Fs]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Xs(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}],["path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class Gs extends Ne{constructor(e){super(),Te(this,e,Xs,js,Se,{})}}const qs=Gs;function Ws(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function Js(a){let e,l;const t=[{name:"git-commit"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[Ws]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Ys(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}],["path",{d:"M12 3l0 6"}],["path",{d:"M12 15l0 6"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class Ks extends Ne{constructor(e){super(),Te(this,e,Ys,Js,Se,{})}}const Qs=Ks;function Zs(a){let e;const l=a[2].default,t=ye(l,a,a[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&De(t,l,s,s[3],e?Ve(l,s[3],n,null):Be(s[3]),null)},i(s){e||(N(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function xs(a){let e,l;const t=[{name:"send-off"},a[1],{iconNode:a[0]}];let s={$$slots:{default:[Zs]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)s=Z(s,t[n]);return e=new ze({props:s}),{c(){J(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){K(e,n,r),l=!0},p(n,[r]){const o=r&3?$e(t,[t[0],r&2&&Oe(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function en(a,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M10 14l2 -2m2 -2l7 -7"}],["path",{d:"M10.718 6.713l10.282 -3.713l-3.715 10.289m-1.063 2.941l-1.722 4.77a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l4.772 -1.723"}],["path",{d:"M3 3l18 18"}]];return a.$$set=r=>{l(1,e=Z(Z({},e),fe(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=fe(e),[n,e,t,s]}class tn extends Ne{constructor(e){super(),Te(this,e,en,xs,Se,{})}}const ln=tn;async function sn(a,e){const l={role:"system",content:"Using the same language, in at most 3 words summarize the conversation between assistant and user."},s=rt(a.history).filter(o=>o.role==="user"||o.role==="assistant"),r=(await e.sendMessage([...s,l])).content;r&&await a.rename(r)}async function Pt(a,e){const l=rt(a.history),t={backend:e.name,model:e.model};let s=await a.addMessage({role:"assistant",content:""},t,!0,rt(a).lastMessageId);await e.sendMessageAndStream(l,async(n,r)=>{s=await a.replaceMessage(s,{...s,isStreaming:!r,message:{...s.message,content:s.message.content+(n??"")}})})}function nn(a){let e,l;return e=new jt({}),{c(){J(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function an(a){let e,l;return e=new Ft({}),{c(){J(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function rn(a){let e,l,t,s,n,r,o,f,p,I,d,g,m,T;const D=[an,nn],V=[];function L(w,S){return w[1]=="left"?0:1}s=L(a),n=V[s]=D[s](a);const M=a[6].default,h=ye(M,a,a[5],null);return{c(){e=v("div"),l=v("div"),t=v("div"),n.c(),r=R(),o=v("div"),f=me(a[2]),p=R(),I=v("div"),h&&h.c(),this.h()},l(w){e=b(w,"DIV",{class:!0});var S=_(e);l=b(S,"DIV",{class:!0});var k=_(l);t=b(k,"DIV",{class:!0});var B=_(t);n.l(B),B.forEach(u),r=$(k),o=b(k,"DIV",{class:!0});var C=_(o);f=_e(C,a[2]),C.forEach(u),k.forEach(u),p=$(S),I=b(S,"DIV",{"data-popup":!0,style:!0});var ne=_(I);h&&h.l(ne),ne.forEach(u),S.forEach(u),this.h()},h(){c(t,"class","flex-shrink -ml-3"),c(o,"class","flex-auto justify-items-start-start"),c(l,"class","w-full btn cursor-pointer [&>*]:pointer-events-none flex"),Pe(l,"variant-filled",a[3]),c(I,"data-popup",d="menu-"+a[0]),Ze(I,"z-index","9999"),c(e,"class","menu relative")},m(w,S){ue(w,e,S),i(e,l),i(l,t),V[s].m(t,null),i(l,r),i(l,o),i(o,f),i(e,p),i(e,I),h&&h.m(I,null),g=!0,m||(T=[Ut(ul.call(null,l,a[4])),se(e,"click",el(a[7]))],m=!0)},p(w,[S]){let k=s;s=L(w),s!==k&&(Ce(),A(V[k],1,1,()=>{V[k]=null}),Le(),n=V[s],n||(n=V[s]=D[s](w),n.c()),N(n,1),n.m(t,null)),(!g||S&4)&&je(f,w[2]),(!g||S&8)&&Pe(l,"variant-filled",w[3]),h&&h.p&&(!g||S&32)&&De(h,M,w,w[5],g?Ve(M,w[5],S,null):Be(w[5]),null),(!g||S&1&&d!==(d="menu-"+w[0]))&&c(I,"data-popup",d)},i(w){g||(N(n),N(h,w),g=!0)},o(w){A(n),A(h,w),g=!1},d(w){w&&u(e),V[s].d(),h&&h.d(w),m=!1,Ge(T)}}}function on(a,e,l){let{$$slots:t={},$$scope:s}=e,{id:n}=e,{position:r}=e,{name:o}=e,{selected:f=!1}=e,p={event:"click",placement:r,target:`menu-${n}`,closeQuery:"a",middleware:{offset:1}};function I(d){Fe.call(this,a,d)}return a.$$set=d=>{"id"in d&&l(0,n=d.id),"position"in d&&l(1,r=d.position),"name"in d&&l(2,o=d.name),"selected"in d&&l(3,f=d.selected),"$$scope"in d&&l(5,s=d.$$scope)},[n,r,o,f,p,s,t,I]}class Wt extends Ne{constructor(e){super(),Te(this,e,on,rn,Se,{id:0,position:1,name:2,selected:3})}}function yt(a,e,l){var n;const t=a.slice();t[47]=e[l];const s=(n=t[2])==null?void 0:n.messages[t[47].self];return t[48]=s,t}function Dt(a,e,l){const t=a.slice();return t[51]=e[l],t}function Bt(a,e,l){const t=a.slice();return t[54]=e[l],t}function Vt(a){let e,l;return e=new Al({props:{width:"w-6"}}),{c(){J(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Ct(a){let e,l;return e=new ln({}),{c(){J(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Lt(a){let e,l,t,s,n,r;return t=new Qs({}),{c(){e=v("button"),l=v("span"),J(t.$$.fragment),this.h()},l(o){e=b(o,"BUTTON",{class:!0});var f=_(e);l=b(f,"SPAN",{});var p=_(l);Y(t.$$.fragment,p),p.forEach(u),f.forEach(u),this.h()},h(){c(e,"class","btn-icon w-8 h-8 p-0 variant-soft-surface")},m(o,f){ue(o,e,f),i(e,l),K(t,l,null),s=!0,n||(r=se(e,"click",a[28]),n=!0)},p:Ue,i(o){s||(N(t.$$.fragment,o),s=!0)},o(o){A(t.$$.fragment,o),s=!1},d(o){o&&u(e),Q(t),n=!1,r()}}}function cn(a){let e;return{c(){e=me("Auto Send")},l(l){e=_e(l,"Auto Send")},m(l,t){ue(l,e,t)},d(l){l&&u(e)}}}function Rt(a){let e,l,t=a[54]+"",s,n,r,o;function f(){return a[30](a[51],a[54])}return{c(){e=v("li"),l=v("a"),s=me(t),n=R(),this.h()},l(p){e=b(p,"LI",{});var I=_(e);l=b(I,"A",{class:!0});var d=_(l);s=_e(d,t),n=$(d),d.forEach(u),I.forEach(u),this.h()},h(){c(l,"class","btn"),Pe(l,"variant-filled",a[12].backend.name===a[51].name&&a[12].backend.model===a[54])},m(p,I){ue(p,e,I),i(e,l),i(l,s),i(l,n),r||(o=se(l,"click",f),r=!0)},p(p,I){a=p,I[0]&4096&&t!==(t=a[54]+"")&&je(s,t),I[0]&4096&&Pe(l,"variant-filled",a[12].backend.name===a[51].name&&a[12].backend.model===a[54])},d(p){p&&u(e),r=!1,o()}}}function fn(a){let e,l=a[51].models,t=[];for(let s=0;s<l.length;s+=1)t[s]=Rt(Bt(a,l,s));return{c(){e=v("ul");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=b(s,"UL",{class:!0});var n=_(e);for(let r=0;r<t.length;r+=1)t[r].l(n);n.forEach(u),this.h()},h(){c(e,"class","card shadow-xl dark:shadow-slate-700 list-nav !bg-surface-50-900-token")},m(s,n){ue(s,e,n);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(s,n){if(n[0]&67112960){l=s[51].models;let r;for(r=0;r<l.length;r+=1){const o=Bt(s,l,r);t[r]?t[r].p(o,n):(t[r]=Rt(o),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(s){s&&u(e),it(t,s)}}}function $t(a){let e,l,t,s;return l=new Wt({props:{id:"backend-"+a[51].name,name:a[51].name,position:"left",selected:a[12].backend.name===a[51].name,$$slots:{default:[fn]},$$scope:{ctx:a}}}),{c(){e=v("li"),J(l.$$.fragment),t=R()},l(n){e=b(n,"LI",{});var r=_(e);Y(l.$$.fragment,r),t=$(r),r.forEach(u)},m(n,r){ue(n,e,r),K(l,e,null),i(e,t),s=!0},p(n,r){const o={};r[0]&4096&&(o.id="backend-"+n[51].name),r[0]&4096&&(o.name=n[51].name),r[0]&4096&&(o.selected=n[12].backend.name===n[51].name),r[0]&4096|r[1]&67108864&&(o.$$scope={dirty:r,ctx:n}),l.$set(o)},i(n){s||(N(l.$$.fragment,n),s=!0)},o(n){A(l.$$.fragment,n),s=!1},d(n){n&&u(e),Q(l)}}}function un(a){let e,l,t=a[12].backends,s=[];for(let r=0;r<t.length;r+=1)s[r]=$t(Dt(a,t,r));const n=r=>A(s[r],1,1,()=>{s[r]=null});return{c(){e=v("ul");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=b(r,"UL",{class:!0});var o=_(e);for(let f=0;f<s.length;f+=1)s[f].l(o);o.forEach(u),this.h()},h(){c(e,"class","card shadow-xl dark:shadow-slate-700 list-nav !bg-surface-50-900-token")},m(r,o){ue(r,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);l=!0},p(r,o){if(o[0]&67112960){t=r[12].backends;let f;for(f=0;f<t.length;f+=1){const p=Dt(r,t,f);s[f]?(s[f].p(p,o),N(s[f],1)):(s[f]=$t(p),s[f].c(),N(s[f],1),s[f].m(e,null))}for(Ce(),f=t.length;f<s.length;f+=1)n(f);Le()}},i(r){if(!l){for(let o=0;o<t.length;o+=1)N(s[o]);l=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)A(s[o]);l=!1},d(r){r&&u(e),it(s,r)}}}function dn(a){let e,l,t,s,n,r,o,f,p,I,d,g,m,T,D,V,L,M,h,w,S,k,B,C,ne,ae,te,le,U,ve,re,pe,ce,be,ke,G,P,j,de,W,oe,H,X,q,z,y,F,we;n=new bl({}),m=new Hs({}),S=new qs({}),U=new pl({});function Ee(x){a[29](x)}let ge={name:"slider-label",size:"sm",$$slots:{default:[cn]},$$scope:{ctx:a}};return a[6]!==void 0&&(ge.checked=a[6]),j=new Ll({props:ge}),Ht.push(()=>sl(j,"checked",Ee)),z=new Wt({props:{id:"backends",name:"Backend",position:"left",$$slots:{default:[un]},$$scope:{ctx:a}}}),{c(){e=v("ul"),l=v("li"),t=v("a"),s=v("span"),J(n.$$.fragment),r=R(),o=v("span"),f=me("Rename"),p=R(),I=v("li"),d=v("a"),g=v("span"),J(m.$$.fragment),T=R(),D=v("span"),V=me("Auto-Rename"),L=R(),M=v("li"),h=v("a"),w=v("span"),J(S.$$.fragment),k=R(),B=v("span"),C=me("Duplicate"),ne=R(),ae=v("li"),te=v("a"),le=v("span"),J(U.$$.fragment),ve=R(),re=v("span"),pe=me("Delete"),ce=R(),be=v("li"),ke=v("hr"),G=R(),P=v("li"),J(j.$$.fragment),W=R(),oe=v("li"),H=v("hr"),X=R(),q=v("li"),J(z.$$.fragment),this.h()},l(x){e=b(x,"UL",{class:!0});var ee=_(e);l=b(ee,"LI",{});var E=_(l);t=b(E,"A",{});var O=_(t);s=b(O,"SPAN",{});var ie=_(s);Y(n.$$.fragment,ie),ie.forEach(u),r=$(O),o=b(O,"SPAN",{});var he=_(o);f=_e(he,"Rename"),he.forEach(u),O.forEach(u),E.forEach(u),p=$(ee),I=b(ee,"LI",{});var Ie=_(I);d=b(Ie,"A",{});var Me=_(d);g=b(Me,"SPAN",{});var Ae=_(g);Y(m.$$.fragment,Ae),Ae.forEach(u),T=$(Me),D=b(Me,"SPAN",{});var Re=_(D);V=_e(Re,"Auto-Rename"),Re.forEach(u),Me.forEach(u),Ie.forEach(u),L=$(ee),M=b(ee,"LI",{});var Je=_(M);h=b(Je,"A",{});var He=_(h);w=b(He,"SPAN",{});var Ye=_(w);Y(S.$$.fragment,Ye),Ye.forEach(u),k=$(He),B=b(He,"SPAN",{});var Ke=_(B);C=_e(Ke,"Duplicate"),Ke.forEach(u),He.forEach(u),Je.forEach(u),ne=$(ee),ae=b(ee,"LI",{});var ct=_(ae);te=b(ct,"A",{});var et=_(te);le=b(et,"SPAN",{});var ft=_(le);Y(U.$$.fragment,ft),ft.forEach(u),ve=$(et),re=b(et,"SPAN",{});var ut=_(re);pe=_e(ut,"Delete"),ut.forEach(u),et.forEach(u),ct.forEach(u),ce=$(ee),be=b(ee,"LI",{});var dt=_(be);ke=b(dt,"HR",{}),dt.forEach(u),G=$(ee),P=b(ee,"LI",{class:!0});var ht=_(P);Y(j.$$.fragment,ht),ht.forEach(u),W=$(ee),oe=b(ee,"LI",{});var gt=_(oe);H=b(gt,"HR",{}),gt.forEach(u),X=$(ee),q=b(ee,"LI",{});var mt=_(q);Y(z.$$.fragment,mt),mt.forEach(u),ee.forEach(u),this.h()},h(){c(P,"class","p-3"),c(e,"class","card shadow-xl dark:shadow-slate-700 list-nav !bg-surface-50-900-token")},m(x,ee){ue(x,e,ee),i(e,l),i(l,t),i(t,s),K(n,s,null),i(t,r),i(t,o),i(o,f),i(e,p),i(e,I),i(I,d),i(d,g),K(m,g,null),i(d,T),i(d,D),i(D,V),i(e,L),i(e,M),i(M,h),i(h,w),K(S,w,null),i(h,k),i(h,B),i(B,C),i(e,ne),i(e,ae),i(ae,te),i(te,le),K(U,le,null),i(te,ve),i(te,re),i(re,pe),i(e,ce),i(e,be),i(be,ke),i(e,G),i(e,P),K(j,P,null),i(e,W),i(e,oe),i(oe,H),i(e,X),i(e,q),K(z,q,null),y=!0,F||(we=[se(t,"click",a[14]),se(d,"click",a[15]),se(h,"click",a[17]),se(te,"click",a[16])],F=!0)},p(x,ee){const E={};ee[1]&67108864&&(E.$$scope={dirty:ee,ctx:x}),!de&&ee[0]&64&&(de=!0,E.checked=x[6],nl(()=>de=!1)),j.$set(E);const O={};ee[0]&4096|ee[1]&67108864&&(O.$$scope={dirty:ee,ctx:x}),z.$set(O)},i(x){y||(N(n.$$.fragment,x),N(m.$$.fragment,x),N(S.$$.fragment,x),N(U.$$.fragment,x),N(j.$$.fragment,x),N(z.$$.fragment,x),y=!0)},o(x){A(n.$$.fragment,x),A(m.$$.fragment,x),A(S.$$.fragment,x),A(U.$$.fragment,x),A(j.$$.fragment,x),A(z.$$.fragment,x),y=!1},d(x){x&&u(e),Q(n),Q(m),Q(S),Q(U),Q(j),Q(z),F=!1,Ge(we)}}}function Ot(a){let e,l;function t(...d){return a[31](a[48],...d)}function s(...d){return a[32](a[48],a[47],...d)}function n(...d){return a[33](a[48],a[47],...d)}function r(...d){return a[34](a[48],...d)}function o(...d){return a[35](a[48],...d)}function f(...d){return a[36](a[48],...d)}function p(...d){return a[37](a[48],...d)}function I(...d){return a[38](a[48],...d)}return e=new Rs({props:{msg:a[48].message,source:`${a[48].source.backend}/${a[48].source.model}`,isStreaming:a[48].isStreaming,selfPosition:a[47].messageIds.indexOf(a[47].self)+1,alternativesCount:a[47].messageIds.length,forkSelected:a[48].id===a[9]}}),e.$on("fork",t),e.$on("prevThread",s),e.$on("nextThread",n),e.$on("regenerate",r),e.$on("saveAndFork",o),e.$on("saveInPlace",f),e.$on("merge",p),e.$on("trash",I),{c(){J(e.$$.fragment)},l(d){Y(e.$$.fragment,d)},m(d,g){K(e,d,g),l=!0},p(d,g){a=d;const m={};g[0]&6&&(m.msg=a[48].message),g[0]&6&&(m.source=`${a[48].source.backend}/${a[48].source.model}`),g[0]&6&&(m.isStreaming=a[48].isStreaming),g[0]&2&&(m.selfPosition=a[47].messageIds.indexOf(a[47].self)+1),g[0]&2&&(m.alternativesCount=a[47].messageIds.length),g[0]&518&&(m.forkSelected=a[48].id===a[9]),e.$set(m)},i(d){l||(N(e.$$.fragment,d),l=!0)},o(d){A(e.$$.fragment,d),l=!1},d(d){Q(e,d)}}}function hn(a){let e,l,t,s,n,r,o,f,p,I,d,g,m,T,D,V,L,M,h,w,S,k,B,C,ne,ae,te,le,U,ve,re,pe,ce,be,ke;document.title=e=a[10];let G=(a[8]||a[5])&&Vt(),P=!a[6]&&Ct(),j=a[2]&&Lt(a);g=new dl({props:{id:"conversation-menu",$$slots:{default:[dn]},$$scope:{ctx:a}}});let de=a[1].messages,W=[];for(let H=0;H<de.length;H+=1)W[H]=Ot(yt(a,de,H));const oe=H=>A(W[H],1,1,()=>{W[H]=null});return{c(){l=R(),t=v("div"),s=v("div"),n=v("h3"),G&&G.c(),r=R(),o=me(a[10]),f=R(),P&&P.c(),p=R(),I=v("div"),j&&j.c(),d=R(),J(g.$$.fragment),m=R(),T=v("div"),D=v("main");for(let H=0;H<W.length;H+=1)W[H].c();V=R(),L=v("div"),M=R(),h=v("form"),w=v("label"),S=me("Your message"),k=R(),B=v("div"),C=v("textarea"),ne=R(),ae=v("button"),te=v("span"),le=qe("svg"),U=qe("path"),ve=R(),re=v("span"),pe=me("Send message"),this.h()},l(H){tl("svelte-1cqak5p",document.head).forEach(u),l=$(H),t=b(H,"DIV",{class:!0});var q=_(t);s=b(q,"DIV",{class:!0});var z=_(s);n=b(z,"H3",{class:!0});var y=_(n);G&&G.l(y),r=$(y),o=_e(y,a[10]),f=$(y),P&&P.l(y),y.forEach(u),p=$(z),I=b(z,"DIV",{class:!0});var F=_(I);j&&j.l(F),d=$(F),Y(g.$$.fragment,F),F.forEach(u),z.forEach(u),m=$(q),T=b(q,"DIV",{class:!0});var we=_(T);D=b(we,"MAIN",{class:!0});var Ee=_(D);for(let Ie=0;Ie<W.length;Ie+=1)W[Ie].l(Ee);V=$(Ee),L=b(Ee,"DIV",{}),_(L).forEach(u),Ee.forEach(u),we.forEach(u),M=$(q),h=b(q,"FORM",{});var ge=_(h);w=b(ge,"LABEL",{for:!0,class:!0});var x=_(w);S=_e(x,"Your message"),x.forEach(u),k=$(ge),B=b(ge,"DIV",{class:!0});var ee=_(B);C=b(ee,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),_(C).forEach(u),ne=$(ee),ae=b(ee,"BUTTON",{type:!0,class:!0});var E=_(ae);te=b(E,"SPAN",{});var O=_(te);le=We(O,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var ie=_(le);U=We(ie,"path",{d:!0}),_(U).forEach(u),ie.forEach(u),O.forEach(u),ve=$(E),re=b(E,"SPAN",{class:!0});var he=_(re);pe=_e(he,"Send message"),he.forEach(u),E.forEach(u),ee.forEach(u),ge.forEach(u),q.forEach(u),this.h()},h(){c(n,"class","flex-grow flex gap-1 items-center"),c(I,"class","flex gap-2"),c(s,"class","p-5 pb-2 flex border-b"),c(D,"class","absolute inset-0 overflow-y-scroll flex flex-col p-3"),c(T,"class","flex-grow chat relative"),c(w,"for","chat"),c(w,"class","sr-only"),c(C,"id","chat"),c(C,"class","textarea p-2 flex-grow"),c(C,"placeholder","Your message..."),c(U,"d","M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"),c(le,"aria-hidden","true"),c(le,"class","w-6 h-6 rotate-90"),c(le,"fill","currentColor"),c(le,"viewBox","0 0 20 20"),c(le,"xmlns","http://www.w3.org/2000/svg"),c(re,"class","sr-only"),c(ae,"type","submit"),c(ae,"class","btn-icon variant-filled-primary"),c(B,"class","flex card p-2 gap-2 rounded-none variant-glass items-center"),c(t,"class","flex-col flex h-[100vh]")},m(H,X){ue(H,l,X),ue(H,t,X),i(t,s),i(s,n),G&&G.m(n,null),i(n,r),i(n,o),i(n,f),P&&P.m(n,null),i(s,p),i(s,I),j&&j.m(I,null),i(I,d),K(g,I,null),i(t,m),i(t,T),i(T,D);for(let q=0;q<W.length;q+=1)W[q]&&W[q].m(D,null);i(D,V),i(D,L),a[39](L),i(t,M),i(t,h),i(h,w),i(w,S),i(h,k),i(h,B),i(B,C),lt(C,a[3]),i(B,ne),i(B,ae),i(ae,te),i(te,le),i(le,U),i(ae,ve),i(ae,re),i(re,pe),ce=!0,be||(ke=[se(C,"input",a[40]),se(C,"keydown",a[41]),se(C,"keyup",a[42]),se(C,"keypress",a[43]),se(h,"submit",ll(a[24]))],be=!0)},p(H,X){(!ce||X[0]&1024)&&e!==(e=H[10])&&(document.title=e),H[8]||H[5]?G?X[0]&288&&N(G,1):(G=Vt(),G.c(),N(G,1),G.m(n,r)):G&&(Ce(),A(G,1,1,()=>{G=null}),Le()),(!ce||X[0]&1024)&&je(o,H[10]),H[6]?P&&(Ce(),A(P,1,1,()=>{P=null}),Le()):P?X[0]&64&&N(P,1):(P=Ct(),P.c(),N(P,1),P.m(n,null)),H[2]?j?(j.p(H,X),X[0]&4&&N(j,1)):(j=Lt(H),j.c(),N(j,1),j.m(I,d)):j&&(Ce(),A(j,1,1,()=>{j=null}),Le());const q={};if(X[0]&4160|X[1]&67108864&&(q.$$scope={dirty:X,ctx:H}),g.$set(q),X[0]&50078214){de=H[1].messages;let z;for(z=0;z<de.length;z+=1){const y=yt(H,de,z);W[z]?(W[z].p(y,X),N(W[z],1)):(W[z]=Ot(y),W[z].c(),N(W[z],1),W[z].m(D,V))}for(Ce(),z=de.length;z<W.length;z+=1)oe(z);Le()}X[0]&8&&lt(C,H[3])},i(H){if(!ce){N(G),N(P),N(j),N(g.$$.fragment,H);for(let X=0;X<de.length;X+=1)N(W[X]);ce=!0}},o(H){A(G),A(P),A(j),A(g.$$.fragment,H),W=W.filter(Boolean);for(let X=0;X<W.length;X+=1)A(W[X]);ce=!1},d(H){H&&u(l),H&&u(t),G&&G.d(),P&&P.d(),j&&j.d(),Q(g),it(W,H),a[39](null),be=!1,Ge(ke)}}}function gn(a,e,l){let t,s,n,r,o,f,p,I=Ue,d=()=>(I(),I=pt(s,E=>l(1,p=E)),s),g,m=Ue,T=()=>(m(),m=pt(t,E=>l(2,g=E)),t),D;tt(a,kt,E=>l(12,o=E)),tt(a,kl,E=>l(45,f=E)),tt(a,El,E=>l(27,D=E)),a.$$.on_destroy.push(()=>I()),a.$$.on_destroy.push(()=>m());let V="",L,M=!1,h=!0,w=!1,S=!1;_l(async()=>{(g==null?void 0:g.graph.length)==0&&(g!=null&&g.isUntitled)&&await Qe.delete(g.id)}),vl(async({to:E})=>{var O;if(((O=E.params)==null?void 0:O.conversationId)=="new"){const he=(await Qe.create()).subscribe(Ie=>{Ie&&(he(),nt(`/technologic/${Ie.id}`))})}});async function k(E){await al(),L&&L.scrollIntoView()}async function B(E){l(9,n=E.id)}async function C(){const E=await gl("What name do you want to use?",r);E&&t.rename(E)}async function ne(){l(8,S=!0),await sn(t,f),l(8,S=!1)}async function ae(){await st("Are you sure you want to delete this conversation?")&&(await Qe.delete(g.id),nt("/technologic/"))}async function te(){if(await st("Are you sure you want to duplicate this conversation?")){const ie=(await Qe.duplicate(g.id)).subscribe(he=>{he&&(ie(),nt(`/technologic/${he.id}`))})}}async function le(E,O){const ie=O.messageIds.indexOf(E.id);ie>0&&await t.selectMessageThreadThrough(g.messages[O.messageIds[ie-1]])}async function U(E,O){const ie=O.messageIds.indexOf(E.id);ie<O.messageIds.length-1&&await t.selectMessageThreadThrough(g.messages[O.messageIds[ie+1]])}async function ve(E,O,ie){const he=p.messages.findIndex(Re=>Re.self===E.id),Ie=p.messages.slice(0,he),Me=Ie[Ie.length-1],Ae={...E.message,role:ie,content:O};await t.addMessage(Ae,{...E.source,edited:!0},!1,Me==null?void 0:Me.self)}async function re(E,O,ie){await t.replaceMessage(E,{...E,message:{...E.message,role:ie,content:O},source:{...E.source,edited:!0}})}async function pe(E){const O=p.messages,ie=O.findIndex(Re=>Re.self===E.id),he=O.slice(0,ie),Ie=he[he.length-1],Me=O[Ie.self],Ae=E;await ve(Me,Me.message.content+Ae.message.content,Me.message.role)}async function ce(E){await st("Are you sure you want to delete this message?")&&await t.deleteMessage(E)}async function be(){if(l(5,M=!0),V.trim().length>0){let E={role:"user",content:V};const O=await t.addMessage(E,{backend:"human",model:"egg"},!1,n);if(l(9,n=O.id),l(3,V=""),!h){l(5,M=!1);return}}await t.setLastMessageId(n),await Pt(t,f),l(5,M=!1)}async function ke(E){l(5,M=!0);const O=p.messages,ie=O.findIndex(Me=>Me.self===E.id),he=O.slice(0,ie),Ie=he[he.length-1];await t.setLastMessageId(Ie.self),await Pt(t,f),l(5,M=!1)}function G(E,O){rl(kt,o={...o,backend:{name:E.name,model:O??E.defaultModel}},o)}const P=()=>hl.open();function j(E){h=E,l(6,h)}const de=(E,O)=>G(E,O),W=(E,O)=>B(E),oe=(E,O,ie)=>le(E,O),H=(E,O,ie)=>U(E,O),X=(E,O)=>ke(E),q=(E,O)=>ve(E,O.detail.newContent,O.detail.newRole),z=(E,O)=>re(E,O.detail.newContent,O.detail.newRole),y=(E,O)=>pe(E),F=(E,O)=>ce(E);function we(E){Ht[E?"unshift":"push"](()=>{L=E,l(4,L)})}function Ee(){V=this.value,l(3,V)}const ge=E=>{navigator.userAgent.includes("Mac OS X")&&(E.code==="MetaLeft"||E.code==="MetaRight"?l(7,w=!0):E.code==="Enter"&&w&&be())},x=E=>{navigator.userAgent.includes("Mac OS X")&&(E.code==="MetaLeft"||E.code==="MetaRight")&&l(7,w=!1)},ee=E=>{navigator.userAgent.includes("Mac OS X")||E.ctrlKey&&E.code==="Enter"&&be()};return a.$$.update=()=>{var E;a.$$.dirty[0]&134217728&&T(l(0,t=Qe.get((E=D.params)==null?void 0:E.conversationId))),a.$$.dirty[0]&1&&d(l(11,s=t.messageThread)),a.$$.dirty[0]&1&&t.history,a.$$.dirty[0]&4&&l(9,n=g==null?void 0:g.lastMessageId),a.$$.dirty[0]&4&&l(10,r=(g==null?void 0:g.title)||"New conversation"),a.$$.dirty[0]&2&&k()},[t,p,g,V,L,M,h,w,S,n,r,s,o,B,C,ne,ae,te,le,U,ve,re,pe,ce,be,ke,G,D,P,j,de,W,oe,H,X,q,z,y,F,we,Ee,ge,x,ee]}class Nn extends Ne{constructor(e){super(),Te(this,e,gn,hn,Se,{},null,[-1,-1])}}export{Nn as component};
